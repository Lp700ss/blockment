{"ast":null,"code":"const EventEmitter = require('events').EventEmitter;\n\nconst inherits = require('util').inherits;\n\nmodule.exports = Stoplight;\ninherits(Stoplight, EventEmitter);\n\nfunction Stoplight() {\n  const self = this;\n  EventEmitter.call(self);\n  self.isLocked = true;\n}\n\nStoplight.prototype.go = function () {\n  const self = this;\n  self.isLocked = false;\n  self.emit('unlock');\n};\n\nStoplight.prototype.stop = function () {\n  const self = this;\n  self.isLocked = true;\n  self.emit('lock');\n};\n\nStoplight.prototype.await = function (fn) {\n  const self = this;\n\n  if (self.isLocked) {\n    self.once('unlock', fn);\n  } else {\n    setTimeout(fn);\n  }\n};","map":{"version":3,"names":["EventEmitter","require","inherits","module","exports","Stoplight","self","call","isLocked","prototype","go","emit","stop","await","fn","once","setTimeout"],"sources":["E:/intoweb3/NBlockment/blockment/node_modules/web3-provider-engine/util/stoplight.js"],"sourcesContent":["const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,YAAvC;;AACA,MAAME,QAAQ,GAAGD,OAAO,CAAC,MAAD,CAAP,CAAgBC,QAAjC;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,SAAjB;AAGAH,QAAQ,CAACG,SAAD,EAAYL,YAAZ,CAAR;;AAEA,SAASK,SAAT,GAAoB;EAClB,MAAMC,IAAI,GAAG,IAAb;EACAN,YAAY,CAACO,IAAb,CAAkBD,IAAlB;EACAA,IAAI,CAACE,QAAL,GAAgB,IAAhB;AACD;;AAEDH,SAAS,CAACI,SAAV,CAAoBC,EAApB,GAAyB,YAAU;EACjC,MAAMJ,IAAI,GAAG,IAAb;EACAA,IAAI,CAACE,QAAL,GAAgB,KAAhB;EACAF,IAAI,CAACK,IAAL,CAAU,QAAV;AACD,CAJD;;AAMAN,SAAS,CAACI,SAAV,CAAoBG,IAApB,GAA2B,YAAU;EACnC,MAAMN,IAAI,GAAG,IAAb;EACAA,IAAI,CAACE,QAAL,GAAgB,IAAhB;EACAF,IAAI,CAACK,IAAL,CAAU,MAAV;AACD,CAJD;;AAMAN,SAAS,CAACI,SAAV,CAAoBI,KAApB,GAA4B,UAASC,EAAT,EAAY;EACtC,MAAMR,IAAI,GAAG,IAAb;;EACA,IAAIA,IAAI,CAACE,QAAT,EAAmB;IACjBF,IAAI,CAACS,IAAL,CAAU,QAAV,EAAoBD,EAApB;EACD,CAFD,MAEO;IACLE,UAAU,CAACF,EAAD,CAAV;EACD;AACF,CAPD"},"metadata":{},"sourceType":"script"}