{"ast":null,"code":"\"use strict\";\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Array$isArray = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _trim = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/trim\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _every = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/every\"));\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisSol = _interopRequireDefault(require(\"./MoralisSol\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _createSigningData = _interopRequireDefault(require(\"./createSigningData\"));\n\nvar _WalletConnectWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/WalletConnectWeb3Connector\"));\n\nvar _InjectedWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/InjectedWeb3Connector\"));\n\nvar _NetworkWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/NetworkWeb3Connector\"));\n\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\n\nvar _InternalWeb3Provider = _interopRequireWildcard(require(\"./InternalWeb3Provider\"));\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _MagicWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/MagicWeb3Connector\"));\n\nvar _Web3AuthConnector = require(\"./Web3Connector/Web3AuthConnector\");\n\nvar _context30, _context31, _context32, _context33, _context34, _context35;\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new _WeakMap();\n  var cacheNodeInterop = new _WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = _Object$defineProperty && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context36;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context36 = Object.prototype.toString.call(o)).call(_context36, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar MoralisEmitter = new _events.default();\nvar WARNING = 'Non ethereum enabled browser';\nvar ERROR_WEB3_MISSING = 'Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()';\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"addListener\",\n    value: // Ethers.js instance that will be set after calling enableWeb3\n    // Internal web3 provider, containing the Ethers.js Web3 library for internal usage for handling transactions, contracts etc.\n    function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"on\",\n    value: function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"once\",\n    value: function (eventName, listener) {\n      MoralisEmitter.once(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"removeListener\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeListener(eventName, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.off(eventName, listener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeAllListeners(eventName, listener);\n    }\n  }, {\n    key: \"isWeb3Enabled\",\n    value: function () {\n      return this.ensureWeb3IsInstalled();\n    }\n  }, {\n    key: \"handleWeb3AccountChanged\",\n    value: function (account) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, account);\n    }\n  }, {\n    key: \"handleWeb3ChainChanged\",\n    value: function (chainId) {\n      var _this$internalWeb3Pro;\n\n      this.web3 = (_this$internalWeb3Pro = this.internalWeb3Provider) === null || _this$internalWeb3Pro === void 0 ? void 0 : _this$internalWeb3Pro.web3;\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, chainId);\n    }\n  }, {\n    key: \"handleWeb3Connect\",\n    value: function (connectInfo) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, connectInfo);\n    }\n  }, {\n    key: \"handleWeb3Disconnect\",\n    value: function (error) {\n      if ((error === null || error === void 0 ? void 0 : error.message) === 'MetaMask: Disconnected from chain. Attempting to connect.') {\n        return;\n      }\n\n      this.cleanup();\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, error);\n    }\n  }, {\n    key: \"enableWeb3\",\n    value: function () {\n      var _enableWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _this = this;\n\n        var options,\n            _options$connector,\n            Connector,\n            connector,\n            anyNetwork,\n            provider,\n            chainId,\n            account,\n            internalWeb3,\n            _yield$this$internalW,\n            web3,\n            _args = arguments;\n\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n\n                if (!this.isEnablingWeb3) {\n                  _context.next = 3;\n                  break;\n                }\n\n                throw new Error('Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ');\n\n              case 3:\n                _context.prev = 3;\n                this.isEnablingWeb3 = true;\n\n                if (this.speedyNodeApiKey) {\n                  options.speedyNodeApiKey = this.speedyNodeApiKey;\n                  options.provider = 'network';\n                }\n\n                Connector = (_options$connector = options === null || options === void 0 ? void 0 : options.connector) !== null && _options$connector !== void 0 ? _options$connector : MoralisWeb3.getWeb3Connector(options === null || options === void 0 ? void 0 : options.provider);\n                connector = new Connector(options);\n                anyNetwork = (options === null || options === void 0 ? void 0 : options.anyNetwork) === true ? true : false;\n                this.internalWeb3Provider = new _InternalWeb3Provider.default(connector, anyNetwork, options.privateKey);\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, function (args) {\n                  return _this.handleWeb3AccountChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, function (args) {\n                  return _this.handleWeb3ChainChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, function (args) {\n                  return _this.handleWeb3Connect(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, function (args) {\n                  return _this.handleWeb3Disconnect(args);\n                });\n                _context.prev = 14;\n                _context.next = 17;\n                return this.internalWeb3Provider.activate(options);\n\n              case 17:\n                _yield$this$internalW = _context.sent;\n                provider = _yield$this$internalW.provider;\n                chainId = _yield$this$internalW.chainId;\n                account = _yield$this$internalW.account;\n                internalWeb3 = _yield$this$internalW.web3;\n\n                if (provider) {\n                  _context.next = 24;\n                  break;\n                }\n\n                throw new Error('Failed to activate, no provider returned');\n\n              case 24:\n                _context.next = 31;\n                break;\n\n              case 26:\n                _context.prev = 26;\n                _context.t0 = _context[\"catch\"](14);\n                _context.next = 30;\n                return this.cleanup();\n\n              case 30:\n                throw _context.t0;\n\n              case 31:\n                web3 = internalWeb3;\n                this.web3 = internalWeb3;\n                MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED, {\n                  chainId: chainId,\n                  account: account,\n                  connector: connector,\n                  provider: provider,\n                  web3: web3\n                });\n                return _context.abrupt(\"return\", web3);\n\n              case 37:\n                _context.prev = 37;\n                _context.t1 = _context[\"catch\"](3);\n                throw _context.t1;\n\n              case 40:\n                _context.prev = 40;\n                this.isEnablingWeb3 = false;\n                return _context.finish(40);\n\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 37, 40, 43], [14, 26]]);\n      }));\n\n      return function () {\n        return _enableWeb.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isSolAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'sol':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Connector\",\n    value: function (provider) {\n      switch (provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _WalletConnectWeb3Connector.default;\n\n        case 'network':\n          return _NetworkWeb3Connector.default;\n\n        case 'magicLink':\n          return _MagicWeb3Connector.default;\n\n        case 'web3Auth':\n          return _Web3AuthConnector.Web3Auth;\n\n        default:\n          return _InjectedWeb3Connector.default;\n      }\n    }\n  }, {\n    key: \"deactivateWeb3\",\n    value: function () {\n      var _deactivateWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this.cleanup());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _deactivateWeb.apply(this, arguments);\n      };\n    }()\n    /**\n     * Cleanup previously established provider\n     */\n\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.isEnablingWeb3) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 2:\n                if (this.web3 && this.internalWeb3Provider) {\n                  MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED, {\n                    connector: this.internalWeb3Provider.connector,\n                    provider: this.internalWeb3Provider.provider\n                  });\n                }\n\n                if (!this.internalWeb3Provider) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, this.handleWeb3AccountChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, this.handleWeb3ChainChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, this.handleWeb3Connect);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, this.handleWeb3Disconnect); // For example, if walletconnect has been enabled, then later on metamask, then wc is not the internalProvider, but still has an active connection\n\n                _context3.prev = 8;\n                _context3.next = 11;\n                return this.internalWeb3Provider.deactivate();\n\n              case 11:\n                _context3.next = 15;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](8);\n\n              case 15:\n                this.internalWeb3Provider = null;\n                this.web3 = null;\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[8, 13]]);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(options) {\n        var isLoggedIn, _this$getInternalWeb, account, internalWeb3, signer, message, data, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.currentAsync();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 8:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isSolAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisSol.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return this.enableWeb3(options);\n\n              case 14:\n                _this$getInternalWeb = this.getInternalWeb3Provider(), account = _this$getInternalWeb.account, internalWeb3 = _this$getInternalWeb.web3, signer = _this$getInternalWeb.signer;\n\n                if (account) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                throw new Error('Cannot authenticate, no account returned from provider');\n\n              case 17:\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context4.next = 20;\n                return (0, _createSigningData.default)(message);\n\n              case 20:\n                data = _context4.sent;\n                ethAddress = account.toLowerCase();\n\n                if (ethAddress) {\n                  _context4.next = 24;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 24:\n                _context4.next = 26;\n                return signer.signMessage(data);\n\n              case 26:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 29;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 29:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 32;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 32:\n                user = _context4.sent;\n\n                if (user) {\n                  _context4.next = 35;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 35:\n                _context4.next = 37;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 37:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context4.next = 41;\n                return user.save(null, options);\n\n              case 41:\n                return _context4.abrupt(\"return\", user);\n\n              case 42:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account, options) {\n        var _this$getInternalWeb2, signer, message, user, ethAddress, EthAddress, query, ethAddressRecord, data, signature, authData;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$getInternalWeb2 = this.getInternalWeb3Provider(), signer = _this$getInternalWeb2.signer;\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context5.next = 4;\n                return _ParseUser.default.currentAsync();\n\n              case 4:\n                user = _context5.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context5.next = 10;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 10:\n                ethAddressRecord = _context5.sent;\n\n                if (ethAddressRecord) {\n                  _context5.next = 23;\n                  break;\n                }\n\n                _context5.next = 14;\n                return (0, _createSigningData.default)(message);\n\n              case 14:\n                data = _context5.sent;\n                _context5.next = 17;\n                return signer.signMessage(data);\n\n              case 17:\n                signature = _context5.sent;\n\n                if (signature) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 20:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context5.next = 23;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 23:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context5.next = 27;\n                return user.save(null, options);\n\n              case 27:\n                return _context5.abrupt(\"return\", user);\n\n              case 28:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(account) {\n        var _user$get;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context6.sent;\n                _context6.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context6.next = 10;\n                return _ParseUser.default.currentAsync();\n\n              case 10:\n                user = _context6.sent;\n                accounts = (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context6.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context6.next = 19;\n                return user.save();\n\n              case 19:\n                return _context6.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"initPlugins\",\n    value: function () {\n      var _initPlugins = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(installedPlugins) {\n        var _this2 = this;\n\n        var specs, allPlugins;\n        return _regenerator.default.wrap(function (_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.t0 = installedPlugins;\n\n                if (_context10.t0) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                _context10.next = 4;\n                return (0, _Cloud.run)('getPluginSpecs');\n\n              case 4:\n                _context10.t0 = _context10.sent;\n\n              case 5:\n                specs = _context10.t0;\n                if (!this.Plugins) this.Plugins = {};\n\n                if (specs) {\n                  _context10.next = 9;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\");\n\n              case 9:\n                allPlugins = this.Plugins;\n                (0, _forEach.default)(specs).call(specs, function (plugin) {\n                  var _context7;\n\n                  allPlugins[plugin.name] = {};\n                  (0, _forEach.default)(_context7 = plugin.functions).call(_context7, function (f) {\n                    allPlugins[plugin.name][f] = /*#__PURE__*/function () {\n                      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(params, options) {\n                        var _context8;\n\n                        var response, error, triggerReturn;\n                        return _regenerator.default.wrap(function (_context9) {\n                          while (1) {\n                            switch (_context9.prev = _context9.next) {\n                              case 0:\n                                if (!options) options = {};\n                                _context9.next = 3;\n                                return (0, _Cloud.run)((0, _concat.default)(_context8 = \"\".concat(plugin.name, \"_\")).call(_context8, f), params);\n\n                              case 3:\n                                response = _context9.sent;\n\n                                if (response.data.success) {\n                                  _context9.next = 7;\n                                  break;\n                                }\n\n                                error = (0, _stringify.default)(response.data.data, null, 2);\n                                throw new Error(\"Something went wrong\\n\".concat(error));\n\n                              case 7:\n                                if (!(options.disableTriggers !== true)) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n\n                                _context9.next = 10;\n                                return _this2.handleTriggers(response.data.result.triggers, response.data.result.data);\n\n                              case 10:\n                                triggerReturn = _context9.sent;\n\n                                if (!triggerReturn) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n\n                                return _context9.abrupt(\"return\", triggerReturn);\n\n                              case 13:\n                                return _context9.abrupt(\"return\", response.data.result);\n\n                              case 14:\n                              case \"end\":\n                                return _context9.stop();\n                            }\n                          }\n                        }, _callee7);\n                      }));\n\n                      return function () {\n                        return _ref.apply(this, arguments);\n                      };\n                    }();\n                  });\n                });\n                this.Plugins = allPlugins;\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      return function () {\n        return _initPlugins.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleTriggers\",\n    value: function () {\n      var _handleTriggers = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(triggersArray, payload) {\n        var _this3 = this;\n\n        var _loop, i, _ret;\n\n        return _regenerator.default.wrap(function (_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (triggersArray) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\");\n\n              case 2:\n                _loop = /*#__PURE__*/_regenerator.default.mark(function _loop(i) {\n                  var _triggersArray$i, _triggersArray$i$data, _triggersArray$i2, _triggersArray$i2$dat, _triggersArray$i$data2, _triggersArray$i3, _triggersArray$i3$dat, _triggersArray$i4, _triggersArray$i4$dat, _triggersArray$i5, _triggersArray$i6, _triggersArray$i7, _triggersArray$i8, _triggersArray$i9, _triggersArray$i10, _triggersArray$i11, _triggersArray$i12, _triggersArray$i13, _triggersArray$i14, _triggersArray$i15, _triggersArray$i16, _triggersArray$i17, _triggersArray$i18, _triggersArray$i19, _triggersArray$i21, _triggersArray$i23, _triggersArray$i24, _triggersArray$i25;\n\n                  var _response, _context11, _context12, _triggersArray$i20, _JSON$parse, domain, types, message, signature, result, _JSON$parse2, _domain, _types, _message;\n\n                  return _regenerator.default.wrap(function (_context13) {\n                    while (1) {\n                      switch (_context13.prev = _context13.next) {\n                        case 0:\n                          _context13.t0 = triggersArray[i].name;\n                          _context13.next = _context13.t0 === 'openUrl' ? 3 : _context13.t0 === 'web3Transaction' ? 5 : _context13.t0 === 'web3Sign' ? 18 : _context13.t0 === 'callPluginEndpoint' ? 35 : _context13.t0 === 'web3SignV4' ? 57 : 82;\n                          break;\n\n                        case 3:\n                          if (triggersArray[i].newTab) window.open(triggersArray[i].url);else window.open(triggersArray[i].url, '_self');\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 5:\n                          _context13.next = 7;\n                          return _this3.getInternalWeb3Provider().signer.sendTransaction({\n                            from: (_triggersArray$i = triggersArray[i]) === null || _triggersArray$i === void 0 ? void 0 : (_triggersArray$i$data = _triggersArray$i.data) === null || _triggersArray$i$data === void 0 ? void 0 : _triggersArray$i$data.from,\n                            to: (_triggersArray$i2 = triggersArray[i]) === null || _triggersArray$i2 === void 0 ? void 0 : (_triggersArray$i2$dat = _triggersArray$i2.data) === null || _triggersArray$i2$dat === void 0 ? void 0 : _triggersArray$i2$dat.to,\n                            value: _ethers.ethers.BigNumber.from((_triggersArray$i$data2 = (_triggersArray$i3 = triggersArray[i]) === null || _triggersArray$i3 === void 0 ? void 0 : (_triggersArray$i3$dat = _triggersArray$i3.data) === null || _triggersArray$i3$dat === void 0 ? void 0 : _triggersArray$i3$dat.value) !== null && _triggersArray$i$data2 !== void 0 ? _triggersArray$i$data2 : 0),\n                            data: (_triggersArray$i4 = triggersArray[i]) === null || _triggersArray$i4 === void 0 ? void 0 : (_triggersArray$i4$dat = _triggersArray$i4.data) === null || _triggersArray$i4$dat === void 0 ? void 0 : _triggersArray$i4$dat.data\n                          });\n\n                        case 7:\n                          _response = _context13.sent;\n\n                          if (!(((_triggersArray$i5 = triggersArray[i]) === null || _triggersArray$i5 === void 0 ? void 0 : _triggersArray$i5.shouldAwait) === true)) {\n                            _context13.next = 12;\n                            break;\n                          }\n\n                          _context13.next = 11;\n                          return _response.wait();\n\n                        case 11:\n                          _response = _context13.sent;\n\n                        case 12:\n                          // Save the response returned by the web3 trasanction\n                          if (((_triggersArray$i6 = triggersArray[i]) === null || _triggersArray$i6 === void 0 ? void 0 : _triggersArray$i6.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i7 = triggersArray[i]) === null || _triggersArray$i7 === void 0 ? void 0 : _triggersArray$i7.shouldReturnPayload) === true)) {\n                            _context13.next = 15;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 15:\n                          if (!(((_triggersArray$i8 = triggersArray[i]) === null || _triggersArray$i8 === void 0 ? void 0 : _triggersArray$i8.shouldReturnResponse) === true)) {\n                            _context13.next = 17;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 17:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 18:\n                          if (triggersArray[i].message) {\n                            _context13.next = 20;\n                            break;\n                          }\n\n                          throw new Error('web3Sign trigger does not have a message to sign');\n\n                        case 20:\n                          if (!(!triggersArray[i].signer || triggersArray[i].signer)) {\n                            _context13.next = 22;\n                            break;\n                          }\n\n                          throw new Error('web3Sign trigger signer address missing or invalid');\n\n                        case 22:\n                          _context13.next = 24;\n                          return _this3.getInternalWeb3Provider().signer.signMessage(triggersArray[i].message);\n\n                        case 24:\n                          _response = _context13.sent;\n\n                          if (!((_triggersArray$i9 = triggersArray[i]) !== null && _triggersArray$i9 !== void 0 && _triggersArray$i9.shouldAwait)) {\n                            _context13.next = 29;\n                            break;\n                          }\n\n                          _context13.next = 28;\n                          return _response.wait();\n\n                        case 28:\n                          _response = _context13.sent;\n\n                        case 29:\n                          // Save response\n                          if (((_triggersArray$i10 = triggersArray[i]) === null || _triggersArray$i10 === void 0 ? void 0 : _triggersArray$i10.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i11 = triggersArray[i]) === null || _triggersArray$i11 === void 0 ? void 0 : _triggersArray$i11.shouldReturnPayload) === true)) {\n                            _context13.next = 32;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 32:\n                          if (!(((_triggersArray$i12 = triggersArray[i]) === null || _triggersArray$i12 === void 0 ? void 0 : _triggersArray$i12.shouldReturnResponse) === true)) {\n                            _context13.next = 34;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 34:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 35:\n                          if (triggersArray[i].pluginName) {\n                            _context13.next = 37;\n                            break;\n                          }\n\n                          throw new Error('callPluginEndpoint trigger does not have an plugin name to call');\n\n                        case 37:\n                          if (triggersArray[i].endpoint) {\n                            _context13.next = 39;\n                            break;\n                          }\n\n                          throw new Error('callPluginEndpoint trigger does not have an endpoint to call');\n\n                        case 39:\n                          if (!(((_triggersArray$i13 = triggersArray[i]) === null || _triggersArray$i13 === void 0 ? void 0 : _triggersArray$i13.shouldAwait) === true)) {\n                            _context13.next = 44;\n                            break;\n                          } // Check if a saved response has to be used to fill a parameter needed by the plugin\n\n\n                          if (triggersArray[i].useSavedResponse === true) {\n                            triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                          } // Call the endpoint\n\n\n                          _context13.next = 43;\n                          return (0, _Cloud.run)((0, _concat.default)(_context11 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context11, triggersArray[i].endpoint), triggersArray[i].params);\n\n                        case 43:\n                          _response = _context13.sent;\n\n                        case 44:\n                          // Call a plugin endpoint (does NOT await)\n                          if (((_triggersArray$i14 = triggersArray[i]) === null || _triggersArray$i14 === void 0 ? void 0 : _triggersArray$i14.shouldAwait) === false) {\n                            // Check if a saved response has to be used to fill a parameter needed by the plugin\n                            if (triggersArray[i].useSavedResponse === true) {\n                              triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                            } // Call the endpoint\n\n\n                            _response = (0, _Cloud.run)((0, _concat.default)(_context12 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context12, triggersArray[i].endpoint), triggersArray[i].params);\n                          } // If the response contains a trigger, run it\n\n\n                          if (!(triggersArray[i].runResponseTrigger === true)) {\n                            _context13.next = 49;\n                            break;\n                          }\n\n                          _context13.next = 48;\n                          return _this3.handleTriggers(_response.data.result.triggers, _response.data.result.data);\n\n                        case 48:\n                          _response = _context13.sent;\n\n                        case 49:\n                          // Save response\n                          if (((_triggersArray$i15 = triggersArray[i]) === null || _triggersArray$i15 === void 0 ? void 0 : _triggersArray$i15.saveResponse) === true) _this3.memoryCard.save(_response); // If should not run the response trigger, continues the loop and does not return (to avoid breaking the loop execution and run other pending triggers)\n\n                          if (!(((_triggersArray$i16 = triggersArray[i]) === null || _triggersArray$i16 === void 0 ? void 0 : _triggersArray$i16.runResponseTrigger) === false)) {\n                            _context13.next = 52;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", \"continue\");\n\n                        case 52:\n                          if (!(((_triggersArray$i17 = triggersArray[i]) === null || _triggersArray$i17 === void 0 ? void 0 : _triggersArray$i17.shouldReturnPayload) === true)) {\n                            _context13.next = 54;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: 'payload',\n                              response: _response\n                            }\n                          });\n\n                        case 54:\n                          if (!(((_triggersArray$i18 = triggersArray[i]) === null || _triggersArray$i18 === void 0 ? void 0 : _triggersArray$i18.shouldReturnResponse) === true)) {\n                            _context13.next = 56;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 56:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 57:\n                          if (triggersArray[i].parameters) {\n                            _context13.next = 59;\n                            break;\n                          }\n\n                          throw new Error('web3SignV4 trigger does not have `parameters` to sign');\n\n                        case 59:\n                          if (triggersArray[i].from) {\n                            _context13.next = 61;\n                            break;\n                          }\n\n                          throw new Error('web3SignV4 trigger does not have a `from` address');\n\n                        case 61:\n                          if (!(((_triggersArray$i19 = triggersArray[i]) === null || _triggersArray$i19 === void 0 ? void 0 : _triggersArray$i19.shouldAwait) === true)) {\n                            _context13.next = 76;\n                            break;\n                          }\n\n                          _context13.prev = 62;\n                          _JSON$parse = JSON.parse(triggersArray[i].parameters[1]), domain = _JSON$parse.domain, types = _JSON$parse.types, message = _JSON$parse.message;\n\n                          if (types.EIP712Domain) {\n                            // Ethers.js will compute this automatically\n                            delete types.EIP712Domain;\n                          }\n\n                          _context13.next = 67;\n                          return _this3.getInternalWeb3Provider().signer._signTypedData(domain, types, message);\n\n                        case 67:\n                          signature = _context13.sent;\n                          result = {\n                            result: signature\n                          };\n                          if (((_triggersArray$i20 = triggersArray[i]) === null || _triggersArray$i20 === void 0 ? void 0 : _triggersArray$i20.saveResponse) === true) _this3.memoryCard.save(result);\n                          _response = result;\n                          _context13.next = 76;\n                          break;\n\n                        case 73:\n                          _context13.prev = 73;\n                          _context13.t1 = _context13[\"catch\"](62);\n                          throw new Error(_context13.t1.message || _context13.t1);\n\n                        case 76:\n                          if (((_triggersArray$i21 = triggersArray[i]) === null || _triggersArray$i21 === void 0 ? void 0 : _triggersArray$i21.shouldAwait) === false) {\n                            _JSON$parse2 = JSON.parse(triggersArray[i].parameters[1]), _domain = _JSON$parse2.domain, _types = _JSON$parse2.types, _message = _JSON$parse2.message;\n\n                            if (_types.EIP712Domain) {\n                              // Ethers.js will compute this automatically\n                              delete _types.EIP712Domain;\n                            }\n\n                            _this3.getInternalWeb3Provider().signer._signTypedData(_domain, _types, _message) // eslint-disable-next-line no-loop-func\n                            .then(function (signature) {\n                              var _triggersArray$i22;\n\n                              var result = {\n                                result: signature\n                              };\n                              if (((_triggersArray$i22 = triggersArray[i]) === null || _triggersArray$i22 === void 0 ? void 0 : _triggersArray$i22.saveResponse) === true) _this3.memoryCard.save(result);\n                              _response = result;\n                            }).catch(function (error) {\n                              throw new Error(error.message || error);\n                            });\n                          } // Return payload and response\n\n\n                          if (!(((_triggersArray$i23 = triggersArray[i]) === null || _triggersArray$i23 === void 0 ? void 0 : _triggersArray$i23.shouldReturnPayload) === true)) {\n                            _context13.next = 79;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 79:\n                          if (!(((_triggersArray$i24 = triggersArray[i]) === null || _triggersArray$i24 === void 0 ? void 0 : _triggersArray$i24.shouldReturnResponse) === true)) {\n                            _context13.next = 81;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 81:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 82:\n                          throw new Error(\"Unknown trigger: \\\"\".concat((_triggersArray$i25 = triggersArray[i]) === null || _triggersArray$i25 === void 0 ? void 0 : _triggersArray$i25.name, \"\\\"\"));\n\n                        case 83:\n                        case \"end\":\n                          return _context13.stop();\n                      }\n                    }\n                  }, _loop, null, [[62, 73]]);\n                });\n                i = 0;\n\n              case 4:\n                if (!(i < triggersArray.length)) {\n                  _context14.next = 14;\n                  break;\n                }\n\n                return _context14.delegateYield(_loop(i), \"t0\", 6);\n\n              case 6:\n                _ret = _context14.t0;\n\n                if (!(_ret === \"continue\")) {\n                  _context14.next = 9;\n                  break;\n                }\n\n                return _context14.abrupt(\"continue\", 11);\n\n              case 9:\n                if (!((0, _typeof2.default)(_ret) === \"object\")) {\n                  _context14.next = 11;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", _ret.v);\n\n              case 11:\n                i++;\n                _context14.next = 4;\n                break;\n\n              case 14:\n                // Delete all saved data\n                this.memoryCard.deleteSaved();\n\n              case 15:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      return function () {\n        return _handleTriggers.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        var _ref2,\n            chain,\n            address,\n            result,\n            _args11 = arguments;\n\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _ref2 = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {}, chain = _ref2.chain, address = _ref2.address;\n                _context15.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context15.sent;\n                return _context15.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n        var _ref3,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args12 = arguments;\n\n        return _regenerator.default.wrap(function (_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _ref3 = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {}, chain = _ref3.chain, address = _ref3.address, symbol = _ref3.symbol, tokenAddress = _ref3.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context16.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function () {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address,\n          _ref6$order = _ref6.order,\n          order = _ref6$order === void 0 ? 'desc' : _ref6$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function () {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$chain = _ref7.chain,\n          chain = _ref7$chain === void 0 ? 'Eth' : _ref7$chain,\n          _ref7$address = _ref7.address,\n          address = _ref7$address === void 0 ? '' : _ref7$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        var _ref8,\n            _ref8$type,\n            type,\n            _ref8$receiver,\n            receiver,\n            _ref8$contractAddress,\n            contractAddress,\n            contract_address,\n            _ref8$amount,\n            amount,\n            _ref8$tokenId,\n            tokenId,\n            token_id,\n            _ref8$system,\n            system,\n            options,\n            _this$getInternalWeb3,\n            internalWeb3,\n            sender,\n            signer,\n            transferOperation,\n            customToken,\n            result,\n            _args13 = arguments;\n\n        return _regenerator.default.wrap(function (_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _ref8 = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {}, _ref8$type = _ref8.type, type = _ref8$type === void 0 ? 'native' : _ref8$type, _ref8$receiver = _ref8.receiver, receiver = _ref8$receiver === void 0 ? '' : _ref8$receiver, _ref8$contractAddress = _ref8.contractAddress, contractAddress = _ref8$contractAddress === void 0 ? '' : _ref8$contractAddress, contract_address = _ref8.contract_address, _ref8$amount = _ref8.amount, amount = _ref8$amount === void 0 ? '' : _ref8$amount, _ref8$tokenId = _ref8.tokenId, tokenId = _ref8$tokenId === void 0 ? '' : _ref8$tokenId, token_id = _ref8.token_id, _ref8$system = _ref8.system, system = _ref8$system === void 0 ? 'evm' : _ref8$system; // Allow snake-case for backwards compatibility\n                // eslint-disable-next-line camelcase\n\n                contractAddress = contractAddress || contract_address; // eslint-disable-next-line camelcase\n\n                tokenId = tokenId || token_id;\n                options = {\n                  receiver: receiver,\n                  contractAddress: contractAddress,\n                  amount: amount,\n                  tokenId: tokenId,\n                  system: system\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                _this$getInternalWeb3 = this.getInternalWeb3Provider(), internalWeb3 = _this$getInternalWeb3.web3, sender = _this$getInternalWeb3.account, signer = _this$getInternalWeb3.signer;\n\n                if (sender) {\n                  _context17.next = 9;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 9:\n                if (tokenId) _TransferUtils.default.isUint256(tokenId);\n\n                if (type !== 'native') {\n                  customToken = new _ethers.ethers.Contract(contractAddress, _TransferUtils.default.abi[type], signer);\n                }\n\n                _context17.t0 = type;\n                _context17.next = _context17.t0 === 'native' ? 14 : _context17.t0 === 'erc20' ? 16 : _context17.t0 === 'erc721' ? 18 : _context17.t0 === 'erc1155' ? 20 : 22;\n                break;\n\n              case 14:\n                transferOperation = signer.sendTransaction({\n                  to: receiver,\n                  value: _ethers.ethers.BigNumber.from(amount)\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 16:\n                transferOperation = customToken.transfer(receiver, amount, {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 18:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 20:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), amount, '0x', {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 22:\n                throw new Error(\"Unknown transfer type: \\\"\".concat(type, \"\\\"\"));\n\n              case 23:\n                _context17.next = 25;\n                return transferOperation;\n\n              case 25:\n                result = _context17.sent;\n                return _context17.abrupt(\"return\", result);\n\n              case 27:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"executeFunction\",\n    value: function () {\n      var _executeFunction = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13() {\n        var _functionData, _context25, _context26;\n\n        var _ref9,\n            contractAddress,\n            abi,\n            functionName,\n            msgValue,\n            _ref9$params,\n            params,\n            _ref9$overrides,\n            overrides,\n            contractOptions,\n            _this$getInternalWeb4,\n            account,\n            internalWeb3,\n            provider,\n            signerOrProvider,\n            overloadedFunction,\n            functionData,\n            _context18,\n            _context19,\n            nameWithoutTopics,\n            topics,\n            functionDataArray,\n            possibleTopics,\n            _functionDataArray,\n            _possibleTopics,\n            stateMutability,\n            isReadFunction,\n            currentAddress,\n            errors,\n            _iterator,\n            _step,\n            input,\n            value,\n            parsedInputs,\n            contract,\n            contractMethod,\n            response,\n            _args14 = arguments;\n\n        return _regenerator.default.wrap(function (_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                _ref9 = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {}, contractAddress = _ref9.contractAddress, abi = _ref9.abi, functionName = _ref9.functionName, msgValue = _ref9.msgValue, _ref9$params = _ref9.params, params = _ref9$params === void 0 ? {} : _ref9$params, _ref9$overrides = _ref9.overrides, overrides = _ref9$overrides === void 0 ? {} : _ref9$overrides;\n                contractOptions = {};\n                _this$getInternalWeb4 = this.getInternalWeb3Provider(), account = _this$getInternalWeb4.account, internalWeb3 = _this$getInternalWeb4.web3, provider = _this$getInternalWeb4.provider, signerOrProvider = _this$getInternalWeb4.signerOrProvider; // Check if function is an overloaded function definition. ex \"getMessage(string)\", or \"getMessage()\"\n\n                overloadedFunction = functionName.match(/^(.+)\\((.*)\\)$/);\n\n                if (!overloadedFunction) {\n                  _context27.next = 16;\n                  break;\n                } // Get functiondata from overloaded function\n\n\n                nameWithoutTopics = overloadedFunction[1];\n                topics = (0, _filter.default)(_context18 = (0, _map.default)(_context19 = overloadedFunction[2].split(',')).call(_context19, function (topic) {\n                  return (0, _trim.default)(topic).call(topic);\n                })).call(_context18, function (topic) {\n                  return !!topic;\n                });\n                functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === nameWithoutTopics;\n                });\n\n                if (!(functionDataArray.length === 0)) {\n                  _context27.next = 10;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 10:\n                functionData = (0, _find.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _data$inputs$length, _context20;\n\n                  return ((_data$inputs$length = data === null || data === void 0 ? void 0 : data.inputs.length) !== null && _data$inputs$length !== void 0 ? _data$inputs$length : 0) === topics.length && (0, _every.default)(_context20 = data.inputs).call(_context20, function (input, index) {\n                    return input.type === topics[index];\n                  });\n                });\n\n                if (functionData) {\n                  _context27.next = 14;\n                  break;\n                }\n\n                possibleTopics = (0, _map.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _context21, _context22;\n\n                  return (0, _concat.default)(_context21 = \"\".concat(data.name, \"(\")).call(_context21, (0, _map.default)(_context22 = data.inputs).call(_context22, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Function with the provided topic does not exist in abi. Possible funcationNames: \".concat(possibleTopics.join(' ,')));\n\n              case 14:\n                _context27.next = 23;\n                break;\n\n              case 16:\n                // Get functiondata from 'normal' function\n                _functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === functionName;\n                });\n\n                if (!(_functionDataArray.length === 0)) {\n                  _context27.next = 19;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 19:\n                if (!(_functionDataArray.length > 1)) {\n                  _context27.next = 22;\n                  break;\n                }\n\n                _possibleTopics = (0, _map.default)(_functionDataArray).call(_functionDataArray, function (data) {\n                  var _context23, _context24;\n\n                  return (0, _concat.default)(_context23 = \"\".concat(data.name, \"(\")).call(_context23, (0, _map.default)(_context24 = data.inputs).call(_context24, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: \".concat(_possibleTopics.join(' ,')));\n\n              case 22:\n                functionData = _functionDataArray[0];\n\n              case 23:\n                stateMutability = (_functionData = functionData) === null || _functionData === void 0 ? void 0 : _functionData.stateMutability;\n                isReadFunction = stateMutability === 'view' || stateMutability === 'pure';\n\n                if (isReadFunction) {\n                  _context27.next = 31;\n                  break;\n                }\n\n                if (params.from) {\n                  _context27.next = 31;\n                  break;\n                }\n\n                currentAddress = account;\n\n                if (currentAddress) {\n                  _context27.next = 30;\n                  break;\n                }\n\n                throw new Error('From address is required');\n\n              case 30:\n                contractOptions.from = currentAddress;\n\n              case 31:\n                errors = [];\n                _iterator = _createForOfIteratorHelper(functionData.inputs);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    input = _step.value;\n                    value = params[input.name];\n\n                    if (!value && typeof value !== 'number' && typeof value !== 'boolean' && input.name !== '') {\n                      errors.push(\"\".concat(input.name, \" is required\"));\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                if (!(errors.length > 0)) {\n                  _context27.next = 36;\n                  break;\n                }\n\n                throw errors;\n\n              case 36:\n                parsedInputs = (0, _map.default)(_context25 = functionData.inputs).call(_context25, function (x) {\n                  return params[x.name];\n                });\n                contract = new _ethers.ethers.Contract(contractAddress, abi, signerOrProvider);\n                contractMethod = contract[functionName];\n\n                if (contractMethod) {\n                  _context27.next = 41;\n                  break;\n                }\n\n                throw new Error(\"Cannot find function \\\"\".concat(functionName, \"\\\" on the contract\"));\n\n              case 41:\n                _context27.next = 43;\n                return contractMethod.apply(void 0, (0, _concat.default)(_context26 = (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).call(_context26, [msgValue ? {\n                  value: _ethers.ethers.BigNumber.from(\"\".concat(msgValue))\n                } : {}]));\n\n              case 43:\n                response = _context27.sent;\n                return _context27.abrupt(\"return\", response);\n\n              case 45:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      return function () {\n        return _executeFunction.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSigningData\",\n    value: function () {\n      return \"Moralis Authentication\";\n    }\n  }, {\n    key: \"ensureWeb3IsInstalled\",\n    value: function () {\n      return this.internalWeb3Provider && this.internalWeb3Provider.web3 ? true : false;\n    }\n    /**\n     * Gets the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n\n  }, {\n    key: \"getInternalWeb3Provider\",\n    value: function () {\n      if (!this.ensureWeb3IsInstalled()) throw new Error(ERROR_WEB3_MISSING);\n      return this.internalWeb3Provider;\n    }\n    /**\n     * Gets web3 from the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n\n  }, {\n    key: \"getInternalWeb3\",\n    value: function () {\n      return this.getInternalWeb3Provider().web3;\n    }\n  }, {\n    key: \"provider\",\n    get: function () {\n      var _this$internalWeb3Pro2, _this$internalWeb3Pro3;\n\n      return (_this$internalWeb3Pro2 = (_this$internalWeb3Pro3 = this.internalWeb3Provider) === null || _this$internalWeb3Pro3 === void 0 ? void 0 : _this$internalWeb3Pro3.provider) !== null && _this$internalWeb3Pro2 !== void 0 ? _this$internalWeb3Pro2 : null;\n    }\n  }, {\n    key: \"connector\",\n    get: function () {\n      var _this$internalWeb3Pro4, _this$internalWeb3Pro5;\n\n      return (_this$internalWeb3Pro4 = (_this$internalWeb3Pro5 = this.internalWeb3Provider) === null || _this$internalWeb3Pro5 === void 0 ? void 0 : _this$internalWeb3Pro5.connector) !== null && _this$internalWeb3Pro4 !== void 0 ? _this$internalWeb3Pro4 : null;\n    }\n  }, {\n    key: \"connectorType\",\n    get: function () {\n      var _this$connector$type, _this$connector;\n\n      return (_this$connector$type = (_this$connector = this.connector) === null || _this$connector === void 0 ? void 0 : _this$connector.type) !== null && _this$connector$type !== void 0 ? _this$connector$type : null;\n    }\n  }, {\n    key: \"network\",\n    get: function () {\n      var _this$connector$netwo, _this$connector2;\n\n      return (_this$connector$netwo = (_this$connector2 = this.connector) === null || _this$connector2 === void 0 ? void 0 : _this$connector2.network) !== null && _this$connector$netwo !== void 0 ? _this$connector$netwo : null;\n    }\n  }, {\n    key: \"account\",\n    get: function () {\n      var _this$internalWeb3Pro6, _this$internalWeb3Pro7;\n\n      return (_this$internalWeb3Pro6 = (_this$internalWeb3Pro7 = this.internalWeb3Provider) === null || _this$internalWeb3Pro7 === void 0 ? void 0 : _this$internalWeb3Pro7.account) !== null && _this$internalWeb3Pro6 !== void 0 ? _this$internalWeb3Pro6 : null;\n    }\n  }, {\n    key: \"chainId\",\n    get: function () {\n      var _this$internalWeb3Pro8, _this$internalWeb3Pro9;\n\n      return (_this$internalWeb3Pro8 = (_this$internalWeb3Pro9 = this.internalWeb3Provider) === null || _this$internalWeb3Pro9 === void 0 ? void 0 : _this$internalWeb3Pro9.chainId) !== null && _this$internalWeb3Pro8 !== void 0 ? _this$internalWeb3Pro8 : null;\n    }\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      return this.chainId;\n    }\n  }, {\n    key: \"web3Library\",\n    get: function () {\n      return _ethers.ethers;\n    }\n  }, {\n    key: \"_forwardToConnector\",\n    value: function (methodName, args) {\n      var _this$getInternalWeb5 = this.getInternalWeb3Provider(),\n          connector = _this$getInternalWeb5.connector;\n\n      var hasMethod = Boolean(connector[methodName]);\n\n      if (!hasMethod) {\n        var _context28;\n\n        throw new Error((0, _concat.default)(_context28 = \"Cannot call \".concat(methodName, \", as it does not exist on connector type \\\"\")).call(_context28, connector.type, \"\\\"\"));\n      }\n\n      return connector[methodName].apply(connector, (0, _toConsumableArray2.default)(args));\n    }\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this._forwardToConnector('switchNetwork', args);\n    }\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this._forwardToConnector('addNetwork', args);\n    }\n  }, {\n    key: \"isMetaMaskInstalled\",\n    value: function () {\n      var _isMetaMaskInstalled = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14() {\n        return _regenerator.default.wrap(function (_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                _context29.next = 2;\n                return (0, _detectProvider.default)();\n\n              case 2:\n                if (!_context29.sent) {\n                  _context29.next = 6;\n                  break;\n                }\n\n                _context29.t0 = true;\n                _context29.next = 7;\n                break;\n\n              case 6:\n                _context29.t0 = false;\n\n              case 7:\n                return _context29.abrupt(\"return\", _context29.t0);\n\n              case 8:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      return function () {\n        return _isMetaMaskInstalled.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MoralisWeb3;\n}();\n\n(0, _defineProperty2.default)(MoralisWeb3, \"speedyNodeApiKey\", void 0);\n(0, _defineProperty2.default)(MoralisWeb3, \"web3\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"internalWeb3Provider\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"Plugins\", {});\n(0, _defineProperty2.default)(MoralisWeb3, \"isEnablingWeb3\", false);\n(0, _defineProperty2.default)(MoralisWeb3, \"memoryCard\", {\n  save: function (what) {\n    this.saved = what;\n  },\n  get: function (where) {\n    if (!this.saved) throw new Error('Nothing saved to memory card'); // In case the saved data is not an object but a simple string or number\n\n    if (where.length === 0) return this.getSaved();\n    var tmp;\n    var savedTmp = this.saved;\n\n    for (var i = 0; i < where.length; i++) {\n      tmp = savedTmp[where[i]];\n      savedTmp = tmp;\n    }\n\n    return savedTmp;\n  },\n  getSaved: function () {\n    return this.saved;\n  },\n  deleteSaved: function () {\n    this.saved = undefined;\n  }\n});\nMoralisWeb3.onConnect = (0, _bind.default)(_context30 = MoralisWeb3.on).call(_context30, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context31 = MoralisWeb3.on).call(_context31, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT);\nMoralisWeb3.onWeb3Enabled = (0, _bind.default)(_context32 = MoralisWeb3.on).call(_context32, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED);\nMoralisWeb3.onWeb3Deactivated = (0, _bind.default)(_context33 = MoralisWeb3.on).call(_context33, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context34 = MoralisWeb3.on).call(_context34, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED);\nMoralisWeb3.onAccountChanged = (0, _bind.default)(_context35 = MoralisWeb3.on).call(_context35, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;","map":{"version":3,"names":["_typeof3","require","_sliceInstanceProperty","_Array$from","_Symbol","_getIteratorMethod","_Array$isArray","_WeakMap","_Object$defineProperty","_Object$getOwnPropertyDescriptor","_interopRequireDefault","exports","value","default","_filter","_forEach","_concat","_stringify","_map","_trim","_find","_every","_values","_bind","_regenerator","_toConsumableArray2","_typeof2","_asyncToGenerator2","_classCallCheck2","_createClass2","_defineProperty2","_ethers","_events","_ParseObject","_ParseQuery","_ParseUser","_ParseACL","_MoralisErd","_MoralisDot","_MoralisSol","_TransferUtils","_Cloud","_createSigningData","_WalletConnectWeb3Connector","_InjectedWeb3Connector","_NetworkWeb3Connector","_ParseError","_InternalWeb3Provider","_interopRequireWildcard","_detectProvider","_MagicWeb3Connector","_Web3AuthConnector","_context30","_context31","_context32","_context33","_context34","_context35","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","key","Object","prototype","hasOwnProperty","call","desc","set","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_context36","_arrayLikeToArray","toString","constructor","name","test","arr","len","arr2","Array","MoralisEmitter","WARNING","ERROR_WEB3_MISSING","MoralisWeb3","eventName","listener","on","removeListener","once","off","removeAllListeners","ensureWeb3IsInstalled","account","emit","InternalWeb3Events","ACCOUNT_CHANGED","chainId","_this$internalWeb3Pro","web3","internalWeb3Provider","CHAIN_CHANGED","connectInfo","PROVIDER_CONNECT","error","message","cleanup","PROVIDER_DISCONNECT","_enableWeb","mark","_callee","_this","options","_options$connector","Connector","connector","anyNetwork","provider","internalWeb3","_yield$this$internalW","_args","arguments","wrap","_context","prev","undefined","isEnablingWeb3","Error","speedyNodeApiKey","getWeb3Connector","privateKey","args","handleWeb3AccountChanged","handleWeb3ChainChanged","handleWeb3Connect","handleWeb3Disconnect","activate","sent","t0","WEB3_ENABLED","abrupt","t1","finish","stop","apply","type","Web3Auth","_deactivateWeb","_callee2","_context2","_cleanup","_callee3","_context3","WEB3_DEACTIVATED","deactivate","_authenticate","_callee4","isLoggedIn","_this$getInternalWeb","signer","data","ethAddress","signature","authData","user","_context4","currentAsync","logOut","isDotAuth","authenticate","isElrondAuth","isSolAuth","enableWeb3","getInternalWeb3Provider","signingMessage","getSigningData","toLowerCase","signMessage","id","logInWith","setACL","addAllUnique","save","_link","_callee5","_this$getInternalWeb2","EthAddress","query","ethAddressRecord","_context5","extend","catch","linkWith","_unlink","_callee6","_user$get","accountsLower","accounts","nextAccounts","_context6","destroy","v","_unlinkFrom","_initPlugins","_callee8","installedPlugins","_this2","specs","allPlugins","_context10","run","Plugins","plugin","_context7","functions","_ref","_callee7","params","_context8","response","triggerReturn","_context9","concat","success","disableTriggers","handleTriggers","result","triggers","_handleTriggers","_callee9","triggersArray","payload","_this3","_loop","_ret","_context14","_triggersArray$i","_triggersArray$i$data","_triggersArray$i2","_triggersArray$i2$dat","_triggersArray$i$data2","_triggersArray$i3","_triggersArray$i3$dat","_triggersArray$i4","_triggersArray$i4$dat","_triggersArray$i5","_triggersArray$i6","_triggersArray$i7","_triggersArray$i8","_triggersArray$i9","_triggersArray$i10","_triggersArray$i11","_triggersArray$i12","_triggersArray$i13","_triggersArray$i14","_triggersArray$i15","_triggersArray$i16","_triggersArray$i17","_triggersArray$i18","_triggersArray$i19","_triggersArray$i21","_triggersArray$i23","_triggersArray$i24","_triggersArray$i25","_response","_context11","_context12","_triggersArray$i20","_JSON$parse","domain","types","_JSON$parse2","_domain","_types","_message","_context13","newTab","window","open","url","sendTransaction","from","to","ethers","BigNumber","shouldAwait","wait","saveResponse","memoryCard","shouldReturnPayload","shouldReturnResponse","pluginName","endpoint","useSavedResponse","savedResponseAs","savedResponseAt","runResponseTrigger","parameters","JSON","parse","EIP712Domain","_signTypedData","then","_triggersArray$i22","delegateYield","deleteSaved","_getAllERC","_callee10","_ref2","chain","address","_args11","_context15","_getERC","_callee11","_ref3","symbol","tokenAddress","_args12","_context16","_ref4","_ref4$chain","_ref4$address","_ref5","_ref5$chain","_ref5$address","_ref6","_ref6$chain","_ref6$address","_ref6$order","order","_ref7","_ref7$chain","_ref7$address","_transfer","_callee12","_ref8","_ref8$type","_ref8$receiver","receiver","_ref8$contractAddress","contractAddress","contract_address","_ref8$amount","amount","_ref8$tokenId","tokenId","token_id","_ref8$system","system","_this$getInternalWeb3","sender","transferOperation","customToken","_args13","_context17","isSupportedType","validateInput","isUint256","Contract","abi","transfer","safeTransferFrom","_executeFunction","_callee13","_functionData","_context25","_context26","_ref9","functionName","msgValue","_ref9$params","_ref9$overrides","overrides","contractOptions","_this$getInternalWeb4","signerOrProvider","overloadedFunction","functionData","_context18","_context19","nameWithoutTopics","topics","functionDataArray","possibleTopics","_functionDataArray","_possibleTopics","stateMutability","isReadFunction","currentAddress","errors","_iterator","_step","input","parsedInputs","contract","contractMethod","_args14","_context27","match","split","topic","x","_data$inputs$length","_context20","inputs","index","_context21","_context22","join","_context23","_context24","push","_this$internalWeb3Pro2","_this$internalWeb3Pro3","_this$internalWeb3Pro4","_this$internalWeb3Pro5","_this$connector$type","_this$connector","_this$connector$netwo","_this$connector2","network","_this$internalWeb3Pro6","_this$internalWeb3Pro7","_this$internalWeb3Pro8","_this$internalWeb3Pro9","methodName","_this$getInternalWeb5","hasMethod","Boolean","_context28","_len","_key","_forwardToConnector","_len2","_key2","_isMetaMaskInstalled","_callee14","_context29","what","saved","where","getSaved","tmp","savedTmp","onConnect","onDisconnect","onWeb3Enabled","onWeb3Deactivated","onChainChanged","onAccountChanged","_default"],"sources":["E:/intoweb3/NBlockment/blockment/node_modules/moralis/lib/browser/MoralisWeb3.js"],"sourcesContent":["\"use strict\";\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Array$isArray = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _trim = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/trim\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _every = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/every\"));\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisSol = _interopRequireDefault(require(\"./MoralisSol\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _createSigningData = _interopRequireDefault(require(\"./createSigningData\"));\n\nvar _WalletConnectWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/WalletConnectWeb3Connector\"));\n\nvar _InjectedWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/InjectedWeb3Connector\"));\n\nvar _NetworkWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/NetworkWeb3Connector\"));\n\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\n\nvar _InternalWeb3Provider = _interopRequireWildcard(require(\"./InternalWeb3Provider\"));\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _MagicWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/MagicWeb3Connector\"));\n\nvar _Web3AuthConnector = require(\"./Web3Connector/Web3AuthConnector\");\n\nvar _context30, _context31, _context32, _context33, _context34, _context35;\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new _WeakMap();\n  var cacheNodeInterop = new _WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = _Object$defineProperty && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context36;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context36 = Object.prototype.toString.call(o)).call(_context36, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar MoralisEmitter = new _events.default();\nvar WARNING = 'Non ethereum enabled browser';\nvar ERROR_WEB3_MISSING = 'Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()';\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"addListener\",\n    value: // Ethers.js instance that will be set after calling enableWeb3\n    // Internal web3 provider, containing the Ethers.js Web3 library for internal usage for handling transactions, contracts etc.\n    function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"on\",\n    value: function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"once\",\n    value: function (eventName, listener) {\n      MoralisEmitter.once(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"removeListener\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeListener(eventName, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.off(eventName, listener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeAllListeners(eventName, listener);\n    }\n  }, {\n    key: \"isWeb3Enabled\",\n    value: function () {\n      return this.ensureWeb3IsInstalled();\n    }\n  }, {\n    key: \"handleWeb3AccountChanged\",\n    value: function (account) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, account);\n    }\n  }, {\n    key: \"handleWeb3ChainChanged\",\n    value: function (chainId) {\n      var _this$internalWeb3Pro;\n\n      this.web3 = (_this$internalWeb3Pro = this.internalWeb3Provider) === null || _this$internalWeb3Pro === void 0 ? void 0 : _this$internalWeb3Pro.web3;\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, chainId);\n    }\n  }, {\n    key: \"handleWeb3Connect\",\n    value: function (connectInfo) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, connectInfo);\n    }\n  }, {\n    key: \"handleWeb3Disconnect\",\n    value: function (error) {\n      if ((error === null || error === void 0 ? void 0 : error.message) === 'MetaMask: Disconnected from chain. Attempting to connect.') {\n        return;\n      }\n\n      this.cleanup();\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, error);\n    }\n  }, {\n    key: \"enableWeb3\",\n    value: function () {\n      var _enableWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _this = this;\n\n        var options,\n            _options$connector,\n            Connector,\n            connector,\n            anyNetwork,\n            provider,\n            chainId,\n            account,\n            internalWeb3,\n            _yield$this$internalW,\n            web3,\n            _args = arguments;\n\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n\n                if (!this.isEnablingWeb3) {\n                  _context.next = 3;\n                  break;\n                }\n\n                throw new Error('Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ');\n\n              case 3:\n                _context.prev = 3;\n                this.isEnablingWeb3 = true;\n\n                if (this.speedyNodeApiKey) {\n                  options.speedyNodeApiKey = this.speedyNodeApiKey;\n                  options.provider = 'network';\n                }\n\n                Connector = (_options$connector = options === null || options === void 0 ? void 0 : options.connector) !== null && _options$connector !== void 0 ? _options$connector : MoralisWeb3.getWeb3Connector(options === null || options === void 0 ? void 0 : options.provider);\n                connector = new Connector(options);\n                anyNetwork = (options === null || options === void 0 ? void 0 : options.anyNetwork) === true ? true : false;\n                this.internalWeb3Provider = new _InternalWeb3Provider.default(connector, anyNetwork, options.privateKey);\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, function (args) {\n                  return _this.handleWeb3AccountChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, function (args) {\n                  return _this.handleWeb3ChainChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, function (args) {\n                  return _this.handleWeb3Connect(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, function (args) {\n                  return _this.handleWeb3Disconnect(args);\n                });\n                _context.prev = 14;\n                _context.next = 17;\n                return this.internalWeb3Provider.activate(options);\n\n              case 17:\n                _yield$this$internalW = _context.sent;\n                provider = _yield$this$internalW.provider;\n                chainId = _yield$this$internalW.chainId;\n                account = _yield$this$internalW.account;\n                internalWeb3 = _yield$this$internalW.web3;\n\n                if (provider) {\n                  _context.next = 24;\n                  break;\n                }\n\n                throw new Error('Failed to activate, no provider returned');\n\n              case 24:\n                _context.next = 31;\n                break;\n\n              case 26:\n                _context.prev = 26;\n                _context.t0 = _context[\"catch\"](14);\n                _context.next = 30;\n                return this.cleanup();\n\n              case 30:\n                throw _context.t0;\n\n              case 31:\n                web3 = internalWeb3;\n                this.web3 = internalWeb3;\n                MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED, {\n                  chainId: chainId,\n                  account: account,\n                  connector: connector,\n                  provider: provider,\n                  web3: web3\n                });\n                return _context.abrupt(\"return\", web3);\n\n              case 37:\n                _context.prev = 37;\n                _context.t1 = _context[\"catch\"](3);\n                throw _context.t1;\n\n              case 40:\n                _context.prev = 40;\n                this.isEnablingWeb3 = false;\n                return _context.finish(40);\n\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 37, 40, 43], [14, 26]]);\n      }));\n\n      return function () {\n        return _enableWeb.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isSolAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'sol':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Connector\",\n    value: function (provider) {\n      switch (provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _WalletConnectWeb3Connector.default;\n\n        case 'network':\n          return _NetworkWeb3Connector.default;\n\n        case 'magicLink':\n          return _MagicWeb3Connector.default;\n\n        case 'web3Auth':\n          return _Web3AuthConnector.Web3Auth;\n\n        default:\n          return _InjectedWeb3Connector.default;\n      }\n    }\n  }, {\n    key: \"deactivateWeb3\",\n    value: function () {\n      var _deactivateWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this.cleanup());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _deactivateWeb.apply(this, arguments);\n      };\n    }()\n    /**\n     * Cleanup previously established provider\n     */\n\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.isEnablingWeb3) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 2:\n                if (this.web3 && this.internalWeb3Provider) {\n                  MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED, {\n                    connector: this.internalWeb3Provider.connector,\n                    provider: this.internalWeb3Provider.provider\n                  });\n                }\n\n                if (!this.internalWeb3Provider) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, this.handleWeb3AccountChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, this.handleWeb3ChainChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, this.handleWeb3Connect);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, this.handleWeb3Disconnect); // For example, if walletconnect has been enabled, then later on metamask, then wc is not the internalProvider, but still has an active connection\n\n                _context3.prev = 8;\n                _context3.next = 11;\n                return this.internalWeb3Provider.deactivate();\n\n              case 11:\n                _context3.next = 15;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](8);\n\n              case 15:\n                this.internalWeb3Provider = null;\n                this.web3 = null;\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[8, 13]]);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(options) {\n        var isLoggedIn, _this$getInternalWeb, account, internalWeb3, signer, message, data, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.currentAsync();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 8:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isSolAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisSol.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return this.enableWeb3(options);\n\n              case 14:\n                _this$getInternalWeb = this.getInternalWeb3Provider(), account = _this$getInternalWeb.account, internalWeb3 = _this$getInternalWeb.web3, signer = _this$getInternalWeb.signer;\n\n                if (account) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                throw new Error('Cannot authenticate, no account returned from provider');\n\n              case 17:\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context4.next = 20;\n                return (0, _createSigningData.default)(message);\n\n              case 20:\n                data = _context4.sent;\n                ethAddress = account.toLowerCase();\n\n                if (ethAddress) {\n                  _context4.next = 24;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 24:\n                _context4.next = 26;\n                return signer.signMessage(data);\n\n              case 26:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 29;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 29:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 32;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 32:\n                user = _context4.sent;\n\n                if (user) {\n                  _context4.next = 35;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 35:\n                _context4.next = 37;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 37:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context4.next = 41;\n                return user.save(null, options);\n\n              case 41:\n                return _context4.abrupt(\"return\", user);\n\n              case 42:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account, options) {\n        var _this$getInternalWeb2, signer, message, user, ethAddress, EthAddress, query, ethAddressRecord, data, signature, authData;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$getInternalWeb2 = this.getInternalWeb3Provider(), signer = _this$getInternalWeb2.signer;\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context5.next = 4;\n                return _ParseUser.default.currentAsync();\n\n              case 4:\n                user = _context5.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context5.next = 10;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 10:\n                ethAddressRecord = _context5.sent;\n\n                if (ethAddressRecord) {\n                  _context5.next = 23;\n                  break;\n                }\n\n                _context5.next = 14;\n                return (0, _createSigningData.default)(message);\n\n              case 14:\n                data = _context5.sent;\n                _context5.next = 17;\n                return signer.signMessage(data);\n\n              case 17:\n                signature = _context5.sent;\n\n                if (signature) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 20:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context5.next = 23;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 23:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context5.next = 27;\n                return user.save(null, options);\n\n              case 27:\n                return _context5.abrupt(\"return\", user);\n\n              case 28:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(account) {\n        var _user$get;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context6.sent;\n                _context6.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context6.next = 10;\n                return _ParseUser.default.currentAsync();\n\n              case 10:\n                user = _context6.sent;\n                accounts = (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context6.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context6.next = 19;\n                return user.save();\n\n              case 19:\n                return _context6.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"initPlugins\",\n    value: function () {\n      var _initPlugins = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(installedPlugins) {\n        var _this2 = this;\n\n        var specs, allPlugins;\n        return _regenerator.default.wrap(function (_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.t0 = installedPlugins;\n\n                if (_context10.t0) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                _context10.next = 4;\n                return (0, _Cloud.run)('getPluginSpecs');\n\n              case 4:\n                _context10.t0 = _context10.sent;\n\n              case 5:\n                specs = _context10.t0;\n                if (!this.Plugins) this.Plugins = {};\n\n                if (specs) {\n                  _context10.next = 9;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\");\n\n              case 9:\n                allPlugins = this.Plugins;\n                (0, _forEach.default)(specs).call(specs, function (plugin) {\n                  var _context7;\n\n                  allPlugins[plugin.name] = {};\n                  (0, _forEach.default)(_context7 = plugin.functions).call(_context7, function (f) {\n                    allPlugins[plugin.name][f] = /*#__PURE__*/function () {\n                      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(params, options) {\n                        var _context8;\n\n                        var response, error, triggerReturn;\n                        return _regenerator.default.wrap(function (_context9) {\n                          while (1) {\n                            switch (_context9.prev = _context9.next) {\n                              case 0:\n                                if (!options) options = {};\n                                _context9.next = 3;\n                                return (0, _Cloud.run)((0, _concat.default)(_context8 = \"\".concat(plugin.name, \"_\")).call(_context8, f), params);\n\n                              case 3:\n                                response = _context9.sent;\n\n                                if (response.data.success) {\n                                  _context9.next = 7;\n                                  break;\n                                }\n\n                                error = (0, _stringify.default)(response.data.data, null, 2);\n                                throw new Error(\"Something went wrong\\n\".concat(error));\n\n                              case 7:\n                                if (!(options.disableTriggers !== true)) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n\n                                _context9.next = 10;\n                                return _this2.handleTriggers(response.data.result.triggers, response.data.result.data);\n\n                              case 10:\n                                triggerReturn = _context9.sent;\n\n                                if (!triggerReturn) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n\n                                return _context9.abrupt(\"return\", triggerReturn);\n\n                              case 13:\n                                return _context9.abrupt(\"return\", response.data.result);\n\n                              case 14:\n                              case \"end\":\n                                return _context9.stop();\n                            }\n                          }\n                        }, _callee7);\n                      }));\n\n                      return function () {\n                        return _ref.apply(this, arguments);\n                      };\n                    }();\n                  });\n                });\n                this.Plugins = allPlugins;\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      return function () {\n        return _initPlugins.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleTriggers\",\n    value: function () {\n      var _handleTriggers = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(triggersArray, payload) {\n        var _this3 = this;\n\n        var _loop, i, _ret;\n\n        return _regenerator.default.wrap(function (_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (triggersArray) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\");\n\n              case 2:\n                _loop = /*#__PURE__*/_regenerator.default.mark(function _loop(i) {\n                  var _triggersArray$i, _triggersArray$i$data, _triggersArray$i2, _triggersArray$i2$dat, _triggersArray$i$data2, _triggersArray$i3, _triggersArray$i3$dat, _triggersArray$i4, _triggersArray$i4$dat, _triggersArray$i5, _triggersArray$i6, _triggersArray$i7, _triggersArray$i8, _triggersArray$i9, _triggersArray$i10, _triggersArray$i11, _triggersArray$i12, _triggersArray$i13, _triggersArray$i14, _triggersArray$i15, _triggersArray$i16, _triggersArray$i17, _triggersArray$i18, _triggersArray$i19, _triggersArray$i21, _triggersArray$i23, _triggersArray$i24, _triggersArray$i25;\n\n                  var _response, _context11, _context12, _triggersArray$i20, _JSON$parse, domain, types, message, signature, result, _JSON$parse2, _domain, _types, _message;\n\n                  return _regenerator.default.wrap(function (_context13) {\n                    while (1) {\n                      switch (_context13.prev = _context13.next) {\n                        case 0:\n                          _context13.t0 = triggersArray[i].name;\n                          _context13.next = _context13.t0 === 'openUrl' ? 3 : _context13.t0 === 'web3Transaction' ? 5 : _context13.t0 === 'web3Sign' ? 18 : _context13.t0 === 'callPluginEndpoint' ? 35 : _context13.t0 === 'web3SignV4' ? 57 : 82;\n                          break;\n\n                        case 3:\n                          if (triggersArray[i].newTab) window.open(triggersArray[i].url);else window.open(triggersArray[i].url, '_self');\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 5:\n                          _context13.next = 7;\n                          return _this3.getInternalWeb3Provider().signer.sendTransaction({\n                            from: (_triggersArray$i = triggersArray[i]) === null || _triggersArray$i === void 0 ? void 0 : (_triggersArray$i$data = _triggersArray$i.data) === null || _triggersArray$i$data === void 0 ? void 0 : _triggersArray$i$data.from,\n                            to: (_triggersArray$i2 = triggersArray[i]) === null || _triggersArray$i2 === void 0 ? void 0 : (_triggersArray$i2$dat = _triggersArray$i2.data) === null || _triggersArray$i2$dat === void 0 ? void 0 : _triggersArray$i2$dat.to,\n                            value: _ethers.ethers.BigNumber.from((_triggersArray$i$data2 = (_triggersArray$i3 = triggersArray[i]) === null || _triggersArray$i3 === void 0 ? void 0 : (_triggersArray$i3$dat = _triggersArray$i3.data) === null || _triggersArray$i3$dat === void 0 ? void 0 : _triggersArray$i3$dat.value) !== null && _triggersArray$i$data2 !== void 0 ? _triggersArray$i$data2 : 0),\n                            data: (_triggersArray$i4 = triggersArray[i]) === null || _triggersArray$i4 === void 0 ? void 0 : (_triggersArray$i4$dat = _triggersArray$i4.data) === null || _triggersArray$i4$dat === void 0 ? void 0 : _triggersArray$i4$dat.data\n                          });\n\n                        case 7:\n                          _response = _context13.sent;\n\n                          if (!(((_triggersArray$i5 = triggersArray[i]) === null || _triggersArray$i5 === void 0 ? void 0 : _triggersArray$i5.shouldAwait) === true)) {\n                            _context13.next = 12;\n                            break;\n                          }\n\n                          _context13.next = 11;\n                          return _response.wait();\n\n                        case 11:\n                          _response = _context13.sent;\n\n                        case 12:\n                          // Save the response returned by the web3 trasanction\n                          if (((_triggersArray$i6 = triggersArray[i]) === null || _triggersArray$i6 === void 0 ? void 0 : _triggersArray$i6.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i7 = triggersArray[i]) === null || _triggersArray$i7 === void 0 ? void 0 : _triggersArray$i7.shouldReturnPayload) === true)) {\n                            _context13.next = 15;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 15:\n                          if (!(((_triggersArray$i8 = triggersArray[i]) === null || _triggersArray$i8 === void 0 ? void 0 : _triggersArray$i8.shouldReturnResponse) === true)) {\n                            _context13.next = 17;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 17:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 18:\n                          if (triggersArray[i].message) {\n                            _context13.next = 20;\n                            break;\n                          }\n\n                          throw new Error('web3Sign trigger does not have a message to sign');\n\n                        case 20:\n                          if (!(!triggersArray[i].signer || triggersArray[i].signer)) {\n                            _context13.next = 22;\n                            break;\n                          }\n\n                          throw new Error('web3Sign trigger signer address missing or invalid');\n\n                        case 22:\n                          _context13.next = 24;\n                          return _this3.getInternalWeb3Provider().signer.signMessage(triggersArray[i].message);\n\n                        case 24:\n                          _response = _context13.sent;\n\n                          if (!((_triggersArray$i9 = triggersArray[i]) !== null && _triggersArray$i9 !== void 0 && _triggersArray$i9.shouldAwait)) {\n                            _context13.next = 29;\n                            break;\n                          }\n\n                          _context13.next = 28;\n                          return _response.wait();\n\n                        case 28:\n                          _response = _context13.sent;\n\n                        case 29:\n                          // Save response\n                          if (((_triggersArray$i10 = triggersArray[i]) === null || _triggersArray$i10 === void 0 ? void 0 : _triggersArray$i10.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i11 = triggersArray[i]) === null || _triggersArray$i11 === void 0 ? void 0 : _triggersArray$i11.shouldReturnPayload) === true)) {\n                            _context13.next = 32;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 32:\n                          if (!(((_triggersArray$i12 = triggersArray[i]) === null || _triggersArray$i12 === void 0 ? void 0 : _triggersArray$i12.shouldReturnResponse) === true)) {\n                            _context13.next = 34;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 34:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 35:\n                          if (triggersArray[i].pluginName) {\n                            _context13.next = 37;\n                            break;\n                          }\n\n                          throw new Error('callPluginEndpoint trigger does not have an plugin name to call');\n\n                        case 37:\n                          if (triggersArray[i].endpoint) {\n                            _context13.next = 39;\n                            break;\n                          }\n\n                          throw new Error('callPluginEndpoint trigger does not have an endpoint to call');\n\n                        case 39:\n                          if (!(((_triggersArray$i13 = triggersArray[i]) === null || _triggersArray$i13 === void 0 ? void 0 : _triggersArray$i13.shouldAwait) === true)) {\n                            _context13.next = 44;\n                            break;\n                          } // Check if a saved response has to be used to fill a parameter needed by the plugin\n\n\n                          if (triggersArray[i].useSavedResponse === true) {\n                            triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                          } // Call the endpoint\n\n\n                          _context13.next = 43;\n                          return (0, _Cloud.run)((0, _concat.default)(_context11 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context11, triggersArray[i].endpoint), triggersArray[i].params);\n\n                        case 43:\n                          _response = _context13.sent;\n\n                        case 44:\n                          // Call a plugin endpoint (does NOT await)\n                          if (((_triggersArray$i14 = triggersArray[i]) === null || _triggersArray$i14 === void 0 ? void 0 : _triggersArray$i14.shouldAwait) === false) {\n                            // Check if a saved response has to be used to fill a parameter needed by the plugin\n                            if (triggersArray[i].useSavedResponse === true) {\n                              triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                            } // Call the endpoint\n\n\n                            _response = (0, _Cloud.run)((0, _concat.default)(_context12 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context12, triggersArray[i].endpoint), triggersArray[i].params);\n                          } // If the response contains a trigger, run it\n\n\n                          if (!(triggersArray[i].runResponseTrigger === true)) {\n                            _context13.next = 49;\n                            break;\n                          }\n\n                          _context13.next = 48;\n                          return _this3.handleTriggers(_response.data.result.triggers, _response.data.result.data);\n\n                        case 48:\n                          _response = _context13.sent;\n\n                        case 49:\n                          // Save response\n                          if (((_triggersArray$i15 = triggersArray[i]) === null || _triggersArray$i15 === void 0 ? void 0 : _triggersArray$i15.saveResponse) === true) _this3.memoryCard.save(_response); // If should not run the response trigger, continues the loop and does not return (to avoid breaking the loop execution and run other pending triggers)\n\n                          if (!(((_triggersArray$i16 = triggersArray[i]) === null || _triggersArray$i16 === void 0 ? void 0 : _triggersArray$i16.runResponseTrigger) === false)) {\n                            _context13.next = 52;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", \"continue\");\n\n                        case 52:\n                          if (!(((_triggersArray$i17 = triggersArray[i]) === null || _triggersArray$i17 === void 0 ? void 0 : _triggersArray$i17.shouldReturnPayload) === true)) {\n                            _context13.next = 54;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: 'payload',\n                              response: _response\n                            }\n                          });\n\n                        case 54:\n                          if (!(((_triggersArray$i18 = triggersArray[i]) === null || _triggersArray$i18 === void 0 ? void 0 : _triggersArray$i18.shouldReturnResponse) === true)) {\n                            _context13.next = 56;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 56:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 57:\n                          if (triggersArray[i].parameters) {\n                            _context13.next = 59;\n                            break;\n                          }\n\n                          throw new Error('web3SignV4 trigger does not have `parameters` to sign');\n\n                        case 59:\n                          if (triggersArray[i].from) {\n                            _context13.next = 61;\n                            break;\n                          }\n\n                          throw new Error('web3SignV4 trigger does not have a `from` address');\n\n                        case 61:\n                          if (!(((_triggersArray$i19 = triggersArray[i]) === null || _triggersArray$i19 === void 0 ? void 0 : _triggersArray$i19.shouldAwait) === true)) {\n                            _context13.next = 76;\n                            break;\n                          }\n\n                          _context13.prev = 62;\n                          _JSON$parse = JSON.parse(triggersArray[i].parameters[1]), domain = _JSON$parse.domain, types = _JSON$parse.types, message = _JSON$parse.message;\n\n                          if (types.EIP712Domain) {\n                            // Ethers.js will compute this automatically\n                            delete types.EIP712Domain;\n                          }\n\n                          _context13.next = 67;\n                          return _this3.getInternalWeb3Provider().signer._signTypedData(domain, types, message);\n\n                        case 67:\n                          signature = _context13.sent;\n                          result = {\n                            result: signature\n                          };\n                          if (((_triggersArray$i20 = triggersArray[i]) === null || _triggersArray$i20 === void 0 ? void 0 : _triggersArray$i20.saveResponse) === true) _this3.memoryCard.save(result);\n                          _response = result;\n                          _context13.next = 76;\n                          break;\n\n                        case 73:\n                          _context13.prev = 73;\n                          _context13.t1 = _context13[\"catch\"](62);\n                          throw new Error(_context13.t1.message || _context13.t1);\n\n                        case 76:\n                          if (((_triggersArray$i21 = triggersArray[i]) === null || _triggersArray$i21 === void 0 ? void 0 : _triggersArray$i21.shouldAwait) === false) {\n                            _JSON$parse2 = JSON.parse(triggersArray[i].parameters[1]), _domain = _JSON$parse2.domain, _types = _JSON$parse2.types, _message = _JSON$parse2.message;\n\n                            if (_types.EIP712Domain) {\n                              // Ethers.js will compute this automatically\n                              delete _types.EIP712Domain;\n                            }\n\n                            _this3.getInternalWeb3Provider().signer._signTypedData(_domain, _types, _message) // eslint-disable-next-line no-loop-func\n                            .then(function (signature) {\n                              var _triggersArray$i22;\n\n                              var result = {\n                                result: signature\n                              };\n                              if (((_triggersArray$i22 = triggersArray[i]) === null || _triggersArray$i22 === void 0 ? void 0 : _triggersArray$i22.saveResponse) === true) _this3.memoryCard.save(result);\n                              _response = result;\n                            }).catch(function (error) {\n                              throw new Error(error.message || error);\n                            });\n                          } // Return payload and response\n\n\n                          if (!(((_triggersArray$i23 = triggersArray[i]) === null || _triggersArray$i23 === void 0 ? void 0 : _triggersArray$i23.shouldReturnPayload) === true)) {\n                            _context13.next = 79;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 79:\n                          if (!(((_triggersArray$i24 = triggersArray[i]) === null || _triggersArray$i24 === void 0 ? void 0 : _triggersArray$i24.shouldReturnResponse) === true)) {\n                            _context13.next = 81;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 81:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 82:\n                          throw new Error(\"Unknown trigger: \\\"\".concat((_triggersArray$i25 = triggersArray[i]) === null || _triggersArray$i25 === void 0 ? void 0 : _triggersArray$i25.name, \"\\\"\"));\n\n                        case 83:\n                        case \"end\":\n                          return _context13.stop();\n                      }\n                    }\n                  }, _loop, null, [[62, 73]]);\n                });\n                i = 0;\n\n              case 4:\n                if (!(i < triggersArray.length)) {\n                  _context14.next = 14;\n                  break;\n                }\n\n                return _context14.delegateYield(_loop(i), \"t0\", 6);\n\n              case 6:\n                _ret = _context14.t0;\n\n                if (!(_ret === \"continue\")) {\n                  _context14.next = 9;\n                  break;\n                }\n\n                return _context14.abrupt(\"continue\", 11);\n\n              case 9:\n                if (!((0, _typeof2.default)(_ret) === \"object\")) {\n                  _context14.next = 11;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", _ret.v);\n\n              case 11:\n                i++;\n                _context14.next = 4;\n                break;\n\n              case 14:\n                // Delete all saved data\n                this.memoryCard.deleteSaved();\n\n              case 15:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      return function () {\n        return _handleTriggers.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        var _ref2,\n            chain,\n            address,\n            result,\n            _args11 = arguments;\n\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _ref2 = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {}, chain = _ref2.chain, address = _ref2.address;\n                _context15.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context15.sent;\n                return _context15.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n        var _ref3,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args12 = arguments;\n\n        return _regenerator.default.wrap(function (_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _ref3 = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {}, chain = _ref3.chain, address = _ref3.address, symbol = _ref3.symbol, tokenAddress = _ref3.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context16.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function () {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address,\n          _ref6$order = _ref6.order,\n          order = _ref6$order === void 0 ? 'desc' : _ref6$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function () {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$chain = _ref7.chain,\n          chain = _ref7$chain === void 0 ? 'Eth' : _ref7$chain,\n          _ref7$address = _ref7.address,\n          address = _ref7$address === void 0 ? '' : _ref7$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        var _ref8,\n            _ref8$type,\n            type,\n            _ref8$receiver,\n            receiver,\n            _ref8$contractAddress,\n            contractAddress,\n            contract_address,\n            _ref8$amount,\n            amount,\n            _ref8$tokenId,\n            tokenId,\n            token_id,\n            _ref8$system,\n            system,\n            options,\n            _this$getInternalWeb3,\n            internalWeb3,\n            sender,\n            signer,\n            transferOperation,\n            customToken,\n            result,\n            _args13 = arguments;\n\n        return _regenerator.default.wrap(function (_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _ref8 = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {}, _ref8$type = _ref8.type, type = _ref8$type === void 0 ? 'native' : _ref8$type, _ref8$receiver = _ref8.receiver, receiver = _ref8$receiver === void 0 ? '' : _ref8$receiver, _ref8$contractAddress = _ref8.contractAddress, contractAddress = _ref8$contractAddress === void 0 ? '' : _ref8$contractAddress, contract_address = _ref8.contract_address, _ref8$amount = _ref8.amount, amount = _ref8$amount === void 0 ? '' : _ref8$amount, _ref8$tokenId = _ref8.tokenId, tokenId = _ref8$tokenId === void 0 ? '' : _ref8$tokenId, token_id = _ref8.token_id, _ref8$system = _ref8.system, system = _ref8$system === void 0 ? 'evm' : _ref8$system; // Allow snake-case for backwards compatibility\n                // eslint-disable-next-line camelcase\n\n                contractAddress = contractAddress || contract_address; // eslint-disable-next-line camelcase\n\n                tokenId = tokenId || token_id;\n                options = {\n                  receiver: receiver,\n                  contractAddress: contractAddress,\n                  amount: amount,\n                  tokenId: tokenId,\n                  system: system\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                _this$getInternalWeb3 = this.getInternalWeb3Provider(), internalWeb3 = _this$getInternalWeb3.web3, sender = _this$getInternalWeb3.account, signer = _this$getInternalWeb3.signer;\n\n                if (sender) {\n                  _context17.next = 9;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 9:\n                if (tokenId) _TransferUtils.default.isUint256(tokenId);\n\n                if (type !== 'native') {\n                  customToken = new _ethers.ethers.Contract(contractAddress, _TransferUtils.default.abi[type], signer);\n                }\n\n                _context17.t0 = type;\n                _context17.next = _context17.t0 === 'native' ? 14 : _context17.t0 === 'erc20' ? 16 : _context17.t0 === 'erc721' ? 18 : _context17.t0 === 'erc1155' ? 20 : 22;\n                break;\n\n              case 14:\n                transferOperation = signer.sendTransaction({\n                  to: receiver,\n                  value: _ethers.ethers.BigNumber.from(amount)\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 16:\n                transferOperation = customToken.transfer(receiver, amount, {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 18:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 20:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), amount, '0x', {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 22:\n                throw new Error(\"Unknown transfer type: \\\"\".concat(type, \"\\\"\"));\n\n              case 23:\n                _context17.next = 25;\n                return transferOperation;\n\n              case 25:\n                result = _context17.sent;\n                return _context17.abrupt(\"return\", result);\n\n              case 27:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"executeFunction\",\n    value: function () {\n      var _executeFunction = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13() {\n        var _functionData, _context25, _context26;\n\n        var _ref9,\n            contractAddress,\n            abi,\n            functionName,\n            msgValue,\n            _ref9$params,\n            params,\n            _ref9$overrides,\n            overrides,\n            contractOptions,\n            _this$getInternalWeb4,\n            account,\n            internalWeb3,\n            provider,\n            signerOrProvider,\n            overloadedFunction,\n            functionData,\n            _context18,\n            _context19,\n            nameWithoutTopics,\n            topics,\n            functionDataArray,\n            possibleTopics,\n            _functionDataArray,\n            _possibleTopics,\n            stateMutability,\n            isReadFunction,\n            currentAddress,\n            errors,\n            _iterator,\n            _step,\n            input,\n            value,\n            parsedInputs,\n            contract,\n            contractMethod,\n            response,\n            _args14 = arguments;\n\n        return _regenerator.default.wrap(function (_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                _ref9 = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {}, contractAddress = _ref9.contractAddress, abi = _ref9.abi, functionName = _ref9.functionName, msgValue = _ref9.msgValue, _ref9$params = _ref9.params, params = _ref9$params === void 0 ? {} : _ref9$params, _ref9$overrides = _ref9.overrides, overrides = _ref9$overrides === void 0 ? {} : _ref9$overrides;\n                contractOptions = {};\n                _this$getInternalWeb4 = this.getInternalWeb3Provider(), account = _this$getInternalWeb4.account, internalWeb3 = _this$getInternalWeb4.web3, provider = _this$getInternalWeb4.provider, signerOrProvider = _this$getInternalWeb4.signerOrProvider; // Check if function is an overloaded function definition. ex \"getMessage(string)\", or \"getMessage()\"\n\n                overloadedFunction = functionName.match(/^(.+)\\((.*)\\)$/);\n\n                if (!overloadedFunction) {\n                  _context27.next = 16;\n                  break;\n                } // Get functiondata from overloaded function\n\n\n                nameWithoutTopics = overloadedFunction[1];\n                topics = (0, _filter.default)(_context18 = (0, _map.default)(_context19 = overloadedFunction[2].split(',')).call(_context19, function (topic) {\n                  return (0, _trim.default)(topic).call(topic);\n                })).call(_context18, function (topic) {\n                  return !!topic;\n                });\n                functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === nameWithoutTopics;\n                });\n\n                if (!(functionDataArray.length === 0)) {\n                  _context27.next = 10;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 10:\n                functionData = (0, _find.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _data$inputs$length, _context20;\n\n                  return ((_data$inputs$length = data === null || data === void 0 ? void 0 : data.inputs.length) !== null && _data$inputs$length !== void 0 ? _data$inputs$length : 0) === topics.length && (0, _every.default)(_context20 = data.inputs).call(_context20, function (input, index) {\n                    return input.type === topics[index];\n                  });\n                });\n\n                if (functionData) {\n                  _context27.next = 14;\n                  break;\n                }\n\n                possibleTopics = (0, _map.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _context21, _context22;\n\n                  return (0, _concat.default)(_context21 = \"\".concat(data.name, \"(\")).call(_context21, (0, _map.default)(_context22 = data.inputs).call(_context22, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Function with the provided topic does not exist in abi. Possible funcationNames: \".concat(possibleTopics.join(' ,')));\n\n              case 14:\n                _context27.next = 23;\n                break;\n\n              case 16:\n                // Get functiondata from 'normal' function\n                _functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === functionName;\n                });\n\n                if (!(_functionDataArray.length === 0)) {\n                  _context27.next = 19;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 19:\n                if (!(_functionDataArray.length > 1)) {\n                  _context27.next = 22;\n                  break;\n                }\n\n                _possibleTopics = (0, _map.default)(_functionDataArray).call(_functionDataArray, function (data) {\n                  var _context23, _context24;\n\n                  return (0, _concat.default)(_context23 = \"\".concat(data.name, \"(\")).call(_context23, (0, _map.default)(_context24 = data.inputs).call(_context24, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: \".concat(_possibleTopics.join(' ,')));\n\n              case 22:\n                functionData = _functionDataArray[0];\n\n              case 23:\n                stateMutability = (_functionData = functionData) === null || _functionData === void 0 ? void 0 : _functionData.stateMutability;\n                isReadFunction = stateMutability === 'view' || stateMutability === 'pure';\n\n                if (isReadFunction) {\n                  _context27.next = 31;\n                  break;\n                }\n\n                if (params.from) {\n                  _context27.next = 31;\n                  break;\n                }\n\n                currentAddress = account;\n\n                if (currentAddress) {\n                  _context27.next = 30;\n                  break;\n                }\n\n                throw new Error('From address is required');\n\n              case 30:\n                contractOptions.from = currentAddress;\n\n              case 31:\n                errors = [];\n                _iterator = _createForOfIteratorHelper(functionData.inputs);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    input = _step.value;\n                    value = params[input.name];\n\n                    if (!value && typeof value !== 'number' && typeof value !== 'boolean' && input.name !== '') {\n                      errors.push(\"\".concat(input.name, \" is required\"));\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                if (!(errors.length > 0)) {\n                  _context27.next = 36;\n                  break;\n                }\n\n                throw errors;\n\n              case 36:\n                parsedInputs = (0, _map.default)(_context25 = functionData.inputs).call(_context25, function (x) {\n                  return params[x.name];\n                });\n                contract = new _ethers.ethers.Contract(contractAddress, abi, signerOrProvider);\n                contractMethod = contract[functionName];\n\n                if (contractMethod) {\n                  _context27.next = 41;\n                  break;\n                }\n\n                throw new Error(\"Cannot find function \\\"\".concat(functionName, \"\\\" on the contract\"));\n\n              case 41:\n                _context27.next = 43;\n                return contractMethod.apply(void 0, (0, _concat.default)(_context26 = (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).call(_context26, [msgValue ? {\n                  value: _ethers.ethers.BigNumber.from(\"\".concat(msgValue))\n                } : {}]));\n\n              case 43:\n                response = _context27.sent;\n                return _context27.abrupt(\"return\", response);\n\n              case 45:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      return function () {\n        return _executeFunction.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSigningData\",\n    value: function () {\n      return \"Moralis Authentication\";\n    }\n  }, {\n    key: \"ensureWeb3IsInstalled\",\n    value: function () {\n      return this.internalWeb3Provider && this.internalWeb3Provider.web3 ? true : false;\n    }\n    /**\n     * Gets the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n\n  }, {\n    key: \"getInternalWeb3Provider\",\n    value: function () {\n      if (!this.ensureWeb3IsInstalled()) throw new Error(ERROR_WEB3_MISSING);\n      return this.internalWeb3Provider;\n    }\n    /**\n     * Gets web3 from the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n\n  }, {\n    key: \"getInternalWeb3\",\n    value: function () {\n      return this.getInternalWeb3Provider().web3;\n    }\n  }, {\n    key: \"provider\",\n    get: function () {\n      var _this$internalWeb3Pro2, _this$internalWeb3Pro3;\n\n      return (_this$internalWeb3Pro2 = (_this$internalWeb3Pro3 = this.internalWeb3Provider) === null || _this$internalWeb3Pro3 === void 0 ? void 0 : _this$internalWeb3Pro3.provider) !== null && _this$internalWeb3Pro2 !== void 0 ? _this$internalWeb3Pro2 : null;\n    }\n  }, {\n    key: \"connector\",\n    get: function () {\n      var _this$internalWeb3Pro4, _this$internalWeb3Pro5;\n\n      return (_this$internalWeb3Pro4 = (_this$internalWeb3Pro5 = this.internalWeb3Provider) === null || _this$internalWeb3Pro5 === void 0 ? void 0 : _this$internalWeb3Pro5.connector) !== null && _this$internalWeb3Pro4 !== void 0 ? _this$internalWeb3Pro4 : null;\n    }\n  }, {\n    key: \"connectorType\",\n    get: function () {\n      var _this$connector$type, _this$connector;\n\n      return (_this$connector$type = (_this$connector = this.connector) === null || _this$connector === void 0 ? void 0 : _this$connector.type) !== null && _this$connector$type !== void 0 ? _this$connector$type : null;\n    }\n  }, {\n    key: \"network\",\n    get: function () {\n      var _this$connector$netwo, _this$connector2;\n\n      return (_this$connector$netwo = (_this$connector2 = this.connector) === null || _this$connector2 === void 0 ? void 0 : _this$connector2.network) !== null && _this$connector$netwo !== void 0 ? _this$connector$netwo : null;\n    }\n  }, {\n    key: \"account\",\n    get: function () {\n      var _this$internalWeb3Pro6, _this$internalWeb3Pro7;\n\n      return (_this$internalWeb3Pro6 = (_this$internalWeb3Pro7 = this.internalWeb3Provider) === null || _this$internalWeb3Pro7 === void 0 ? void 0 : _this$internalWeb3Pro7.account) !== null && _this$internalWeb3Pro6 !== void 0 ? _this$internalWeb3Pro6 : null;\n    }\n  }, {\n    key: \"chainId\",\n    get: function () {\n      var _this$internalWeb3Pro8, _this$internalWeb3Pro9;\n\n      return (_this$internalWeb3Pro8 = (_this$internalWeb3Pro9 = this.internalWeb3Provider) === null || _this$internalWeb3Pro9 === void 0 ? void 0 : _this$internalWeb3Pro9.chainId) !== null && _this$internalWeb3Pro8 !== void 0 ? _this$internalWeb3Pro8 : null;\n    }\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      return this.chainId;\n    }\n  }, {\n    key: \"web3Library\",\n    get: function () {\n      return _ethers.ethers;\n    }\n  }, {\n    key: \"_forwardToConnector\",\n    value: function (methodName, args) {\n      var _this$getInternalWeb5 = this.getInternalWeb3Provider(),\n          connector = _this$getInternalWeb5.connector;\n\n      var hasMethod = Boolean(connector[methodName]);\n\n      if (!hasMethod) {\n        var _context28;\n\n        throw new Error((0, _concat.default)(_context28 = \"Cannot call \".concat(methodName, \", as it does not exist on connector type \\\"\")).call(_context28, connector.type, \"\\\"\"));\n      }\n\n      return connector[methodName].apply(connector, (0, _toConsumableArray2.default)(args));\n    }\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this._forwardToConnector('switchNetwork', args);\n    }\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this._forwardToConnector('addNetwork', args);\n    }\n  }, {\n    key: \"isMetaMaskInstalled\",\n    value: function () {\n      var _isMetaMaskInstalled = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14() {\n        return _regenerator.default.wrap(function (_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                _context29.next = 2;\n                return (0, _detectProvider.default)();\n\n              case 2:\n                if (!_context29.sent) {\n                  _context29.next = 6;\n                  break;\n                }\n\n                _context29.t0 = true;\n                _context29.next = 7;\n                break;\n\n              case 6:\n                _context29.t0 = false;\n\n              case 7:\n                return _context29.abrupt(\"return\", _context29.t0);\n\n              case 8:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      return function () {\n        return _isMetaMaskInstalled.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MoralisWeb3;\n}();\n\n(0, _defineProperty2.default)(MoralisWeb3, \"speedyNodeApiKey\", void 0);\n(0, _defineProperty2.default)(MoralisWeb3, \"web3\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"internalWeb3Provider\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"Plugins\", {});\n(0, _defineProperty2.default)(MoralisWeb3, \"isEnablingWeb3\", false);\n(0, _defineProperty2.default)(MoralisWeb3, \"memoryCard\", {\n  save: function (what) {\n    this.saved = what;\n  },\n  get: function (where) {\n    if (!this.saved) throw new Error('Nothing saved to memory card'); // In case the saved data is not an object but a simple string or number\n\n    if (where.length === 0) return this.getSaved();\n    var tmp;\n    var savedTmp = this.saved;\n\n    for (var i = 0; i < where.length; i++) {\n      tmp = savedTmp[where[i]];\n      savedTmp = tmp;\n    }\n\n    return savedTmp;\n  },\n  getSaved: function () {\n    return this.saved;\n  },\n  deleteSaved: function () {\n    this.saved = undefined;\n  }\n});\nMoralisWeb3.onConnect = (0, _bind.default)(_context30 = MoralisWeb3.on).call(_context30, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context31 = MoralisWeb3.on).call(_context31, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT);\nMoralisWeb3.onWeb3Enabled = (0, _bind.default)(_context32 = MoralisWeb3.on).call(_context32, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED);\nMoralisWeb3.onWeb3Deactivated = (0, _bind.default)(_context33 = MoralisWeb3.on).call(_context33, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context34 = MoralisWeb3.on).call(_context34, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED);\nMoralisWeb3.onAccountChanged = (0, _bind.default)(_context35 = MoralisWeb3.on).call(_context35, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}