{"ast":null,"code":"\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.InternalWeb3Events = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _events2 = require(\"./Web3Connector/events\");\n\nvar _ethers = require(\"ethers\");\n\nvar _convert = require(\"./utils/convert\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n} // Events emitted by Moralis\n\n\nvar InternalWeb3Events = (0, _freeze.default)({\n  ACCOUNT_CHANGED: 'accountChanged',\n  CHAIN_CHANGED: 'chainChanged',\n  PROVIDER_CONNECT: 'provider-connect',\n  PROVIDER_DISCONNECT: 'provider-disconnect',\n  WEB3_ENABLED: 'web3Enabled',\n  WEB3_DEACTIVATED: 'web3Deactivated'\n});\n/**\n * Wrapper for the internal web3 provider,\n * responsible for syncing data when connector connects/deactivates\n * Gives access to ethers functionalities, initialized by the connector\n */\n\nexports.InternalWeb3Events = InternalWeb3Events;\n\nvar InternalWeb3Provider = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inherits2.default)(InternalWeb3Provider, _EventEmitter);\n\n  var _super = _createSuper(InternalWeb3Provider);\n\n  function InternalWeb3Provider(connector) {\n    var _context, _context2, _context3, _context4;\n\n    var _this;\n\n    var anyNetwork = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var privateKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    (0, _classCallCheck2.default)(this, InternalWeb3Provider);\n    _this = _super.call(this);\n\n    if (!connector) {\n      throw new Error('Cannot initialize InternalWeb3Provider without a connector');\n    }\n\n    _this.connector = connector;\n    _this.anyNetwork = anyNetwork;\n    _this.privateKey = privateKey;\n    _this.handleAccountChanged = (0, _bind.default)(_context = _this.handleAccountChanged).call(_context, (0, _assertThisInitialized2.default)(_this));\n    _this.handleChainChanged = (0, _bind.default)(_context2 = _this.handleChainChanged).call(_context2, (0, _assertThisInitialized2.default)(_this));\n    _this.handleConnect = (0, _bind.default)(_context3 = _this.handleConnect).call(_context3, (0, _assertThisInitialized2.default)(_this));\n    _this.handleDisconnect = (0, _bind.default)(_context4 = _this.handleDisconnect).call(_context4, (0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(InternalWeb3Provider, [{\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {\n        var _yield$this$connector, provider, chainId, account, network;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (this.connector) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw new Error('Cannot acticate InternalWeb3Provider without a connector');\n\n              case 2:\n                _context5.next = 4;\n                return this.connector.activate(options);\n\n              case 4:\n                _yield$this$connector = _context5.sent;\n                provider = _yield$this$connector.provider;\n                chainId = _yield$this$connector.chainId;\n                account = _yield$this$connector.account;\n                this.provider = provider;\n                this.chainId = chainId;\n                this.account = account;\n                network = this.anyNetwork ? 'any' : (0, _convert.fromHexToDecimal)(chainId);\n                this.web3 = new _ethers.ethers.providers.Web3Provider(provider, network);\n\n                if (this.connector.on) {\n                  this.connector.on(_events2.ConnectorEvents.ACCOUNT_CHANGED, this.handleAccountChanged);\n                  this.connector.on(_events2.ConnectorEvents.CHAIN_CHANGED, this.handleChainChanged);\n                  this.connector.on(_events2.ConnectorEvents.CONNECT, this.handleConnect);\n                  this.connector.on(_events2.ConnectorEvents.DISCONNECT, this.handleDisconnect);\n                }\n\n                return _context5.abrupt(\"return\", {\n                  provider: provider,\n                  chainId: chainId,\n                  account: account,\n                  web3: this.web3\n                });\n\n              case 15:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }() // Returns a provider (or wallet if a privateKey is provided) that can sign messages (throws if not possible, ie. the account cannot sign)\n\n  }, {\n    key: \"signer\",\n    get: function () {\n      return this.privateKey != null ? new _ethers.ethers.Wallet(this.privateKey, this.web3) : this.web3.getSigner(this.account);\n    } // Returns a provider (or wallet if a privateKey is provided) that can sign messages or the normal web3 provider as fallback\n\n  }, {\n    key: \"signerOrProvider\",\n    get: function () {\n      try {\n        if (this.account) {\n          return this.privateKey != null ? new _ethers.ethers.Wallet(this.privateKey, this.web3) : this.web3.getSigner(this.account);\n        }\n\n        return this.web3;\n      } catch (error) {\n        return this.web3;\n      }\n    }\n  }, {\n    key: \"handleChainChanged\",\n    value: function (chainId) {\n      this.chainId = chainId;\n      this.web3 = new _ethers.ethers.providers.Web3Provider(this.provider, (0, _convert.fromHexToDecimal)(chainId));\n      this.emit(InternalWeb3Events.CHAIN_CHANGED, chainId);\n    }\n  }, {\n    key: \"handleAccountChanged\",\n    value: function (account) {\n      this.account = account;\n      this.emit(InternalWeb3Events.ACCOUNT_CHANGED, account);\n    } // Handle Connect events fired from connectors\n\n  }, {\n    key: \"handleConnect\",\n    value: function (connectInfo) {\n      this.emit(InternalWeb3Events.PROVIDER_CONNECT, connectInfo);\n    } // Handle Disconnect events fired from connectors\n\n  }, {\n    key: \"handleDisconnect\",\n    value: function (error) {\n      this.emit(InternalWeb3Events.PROVIDER_DISCONNECT, error);\n    }\n  }, {\n    key: \"deactivate\",\n    value: function () {\n      var _deactivate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.account = null;\n                this.chianId = null;\n                this.web3 = null;\n                this.provider = null;\n                this.privateKey = null;\n\n                if (!this.connector) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                if (this.connector.removeListener) {\n                  this.connector.removeListener(InternalWeb3Events.CHAIN_CHANGED, this.handleChainChanged);\n                  this.connector.removeListener(InternalWeb3Events.ACCOUNT_CHANGED, this.handleAccountChanged);\n                  this.connector.removeListener(InternalWeb3Events.PROVIDER_CONNECT, this.handleConnect);\n                  this.connector.removeListener(InternalWeb3Events.PROVIDER_DISCONNECT, this.handleDisconnect);\n                }\n\n                if (!this.connector.deactivate) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                _context6.next = 10;\n                return this.connector.deactivate();\n\n              case 10:\n                this.connector = null;\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _deactivate.apply(this, arguments);\n      };\n    }()\n  }]);\n  return InternalWeb3Provider;\n}(_events.default);\n\nvar _default = InternalWeb3Provider;\nexports.default = _default;","map":{"version":3,"names":["_Reflect$construct","require","_Object$defineProperty","_interopRequireDefault","exports","value","default","InternalWeb3Events","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_freeze","_bind","_events","_events2","_ethers","_convert","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","result","NewTarget","constructor","arguments","apply","Reflect","sham","Proxy","Boolean","prototype","valueOf","call","e","ACCOUNT_CHANGED","CHAIN_CHANGED","PROVIDER_CONNECT","PROVIDER_DISCONNECT","WEB3_ENABLED","WEB3_DEACTIVATED","InternalWeb3Provider","_EventEmitter","_super","connector","_context","_context2","_context3","_context4","_this","anyNetwork","length","undefined","privateKey","Error","handleAccountChanged","handleChainChanged","handleConnect","handleDisconnect","key","_activate","mark","_callee","options","_yield$this$connector","provider","chainId","account","network","wrap","_context5","prev","next","activate","sent","fromHexToDecimal","web3","ethers","providers","Web3Provider","on","ConnectorEvents","CONNECT","DISCONNECT","abrupt","stop","get","Wallet","getSigner","error","emit","connectInfo","_deactivate","_callee2","_context6","chianId","removeListener","deactivate","_default"],"sources":["E:/intoweb3/NBlockment/blockment/node_modules/moralis/lib/browser/InternalWeb3Provider.js"],"sourcesContent":["\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.InternalWeb3Events = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _events2 = require(\"./Web3Connector/events\");\n\nvar _ethers = require(\"ethers\");\n\nvar _convert = require(\"./utils/convert\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n} // Events emitted by Moralis\n\n\nvar InternalWeb3Events = (0, _freeze.default)({\n  ACCOUNT_CHANGED: 'accountChanged',\n  CHAIN_CHANGED: 'chainChanged',\n  PROVIDER_CONNECT: 'provider-connect',\n  PROVIDER_DISCONNECT: 'provider-disconnect',\n  WEB3_ENABLED: 'web3Enabled',\n  WEB3_DEACTIVATED: 'web3Deactivated'\n});\n/**\n * Wrapper for the internal web3 provider,\n * responsible for syncing data when connector connects/deactivates\n * Gives access to ethers functionalities, initialized by the connector\n */\n\nexports.InternalWeb3Events = InternalWeb3Events;\n\nvar InternalWeb3Provider = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inherits2.default)(InternalWeb3Provider, _EventEmitter);\n\n  var _super = _createSuper(InternalWeb3Provider);\n\n  function InternalWeb3Provider(connector) {\n    var _context, _context2, _context3, _context4;\n\n    var _this;\n\n    var anyNetwork = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var privateKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    (0, _classCallCheck2.default)(this, InternalWeb3Provider);\n    _this = _super.call(this);\n\n    if (!connector) {\n      throw new Error('Cannot initialize InternalWeb3Provider without a connector');\n    }\n\n    _this.connector = connector;\n    _this.anyNetwork = anyNetwork;\n    _this.privateKey = privateKey;\n    _this.handleAccountChanged = (0, _bind.default)(_context = _this.handleAccountChanged).call(_context, (0, _assertThisInitialized2.default)(_this));\n    _this.handleChainChanged = (0, _bind.default)(_context2 = _this.handleChainChanged).call(_context2, (0, _assertThisInitialized2.default)(_this));\n    _this.handleConnect = (0, _bind.default)(_context3 = _this.handleConnect).call(_context3, (0, _assertThisInitialized2.default)(_this));\n    _this.handleDisconnect = (0, _bind.default)(_context4 = _this.handleDisconnect).call(_context4, (0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(InternalWeb3Provider, [{\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {\n        var _yield$this$connector, provider, chainId, account, network;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (this.connector) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw new Error('Cannot acticate InternalWeb3Provider without a connector');\n\n              case 2:\n                _context5.next = 4;\n                return this.connector.activate(options);\n\n              case 4:\n                _yield$this$connector = _context5.sent;\n                provider = _yield$this$connector.provider;\n                chainId = _yield$this$connector.chainId;\n                account = _yield$this$connector.account;\n                this.provider = provider;\n                this.chainId = chainId;\n                this.account = account;\n                network = this.anyNetwork ? 'any' : (0, _convert.fromHexToDecimal)(chainId);\n                this.web3 = new _ethers.ethers.providers.Web3Provider(provider, network);\n\n                if (this.connector.on) {\n                  this.connector.on(_events2.ConnectorEvents.ACCOUNT_CHANGED, this.handleAccountChanged);\n                  this.connector.on(_events2.ConnectorEvents.CHAIN_CHANGED, this.handleChainChanged);\n                  this.connector.on(_events2.ConnectorEvents.CONNECT, this.handleConnect);\n                  this.connector.on(_events2.ConnectorEvents.DISCONNECT, this.handleDisconnect);\n                }\n\n                return _context5.abrupt(\"return\", {\n                  provider: provider,\n                  chainId: chainId,\n                  account: account,\n                  web3: this.web3\n                });\n\n              case 15:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }() // Returns a provider (or wallet if a privateKey is provided) that can sign messages (throws if not possible, ie. the account cannot sign)\n\n  }, {\n    key: \"signer\",\n    get: function () {\n      return this.privateKey != null ? new _ethers.ethers.Wallet(this.privateKey, this.web3) : this.web3.getSigner(this.account);\n    } // Returns a provider (or wallet if a privateKey is provided) that can sign messages or the normal web3 provider as fallback\n\n  }, {\n    key: \"signerOrProvider\",\n    get: function () {\n      try {\n        if (this.account) {\n          return this.privateKey != null ? new _ethers.ethers.Wallet(this.privateKey, this.web3) : this.web3.getSigner(this.account);\n        }\n\n        return this.web3;\n      } catch (error) {\n        return this.web3;\n      }\n    }\n  }, {\n    key: \"handleChainChanged\",\n    value: function (chainId) {\n      this.chainId = chainId;\n      this.web3 = new _ethers.ethers.providers.Web3Provider(this.provider, (0, _convert.fromHexToDecimal)(chainId));\n      this.emit(InternalWeb3Events.CHAIN_CHANGED, chainId);\n    }\n  }, {\n    key: \"handleAccountChanged\",\n    value: function (account) {\n      this.account = account;\n      this.emit(InternalWeb3Events.ACCOUNT_CHANGED, account);\n    } // Handle Connect events fired from connectors\n\n  }, {\n    key: \"handleConnect\",\n    value: function (connectInfo) {\n      this.emit(InternalWeb3Events.PROVIDER_CONNECT, connectInfo);\n    } // Handle Disconnect events fired from connectors\n\n  }, {\n    key: \"handleDisconnect\",\n    value: function (error) {\n      this.emit(InternalWeb3Events.PROVIDER_DISCONNECT, error);\n    }\n  }, {\n    key: \"deactivate\",\n    value: function () {\n      var _deactivate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.account = null;\n                this.chianId = null;\n                this.web3 = null;\n                this.provider = null;\n                this.privateKey = null;\n\n                if (!this.connector) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                if (this.connector.removeListener) {\n                  this.connector.removeListener(InternalWeb3Events.CHAIN_CHANGED, this.handleChainChanged);\n                  this.connector.removeListener(InternalWeb3Events.ACCOUNT_CHANGED, this.handleAccountChanged);\n                  this.connector.removeListener(InternalWeb3Events.PROVIDER_CONNECT, this.handleConnect);\n                  this.connector.removeListener(InternalWeb3Events.PROVIDER_DISCONNECT, this.handleDisconnect);\n                }\n\n                if (!this.connector.deactivate) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                _context6.next = 10;\n                return this.connector.deactivate();\n\n              case 10:\n                this.connector = null;\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _deactivate.apply(this, arguments);\n      };\n    }()\n  }]);\n  return InternalWeb3Provider;\n}(_events.default);\n\nvar _default = InternalWeb3Provider;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}